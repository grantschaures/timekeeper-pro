const pomodoroWorker=new Worker("/js/pomodoroWorker.js"),suggestionWorker=new Worker("/js/suggestionWorker.js"),flowmodoroWorker=new Worker("/js/flowmodoroWorker.js"),displayWorker=new Worker("/js/displayWorker.js"),totalDisplayWorker=new Worker("/js/totalDisplayWorker.js");function activateDarkTheme(e,o,t,n,r,i,a,d,l,s,c,m,u){r=[r,i];[e,o,t,n,a,d,l].forEach(function(e){e.style.backgroundColor="rgba(32, 32, 32, 0.9)",e.style.border="3px solid rgb(255, 255, 255)"}),r.forEach(function(e){e.style.backgroundColor="rgba(32, 32, 32, 1)"}),m.flowtime=u.flowtime,m.chilltime=u.chilltime,s.click(),c.click()}function deactivateDarkTheme(e,o,t,n,r,i,a,d,l,s,c){r=[r,i];[e,o,t,a,d,l].forEach(function(e){e.style.backgroundColor="rgba(0, 0, 0, 0.35)",e.style.border=null}),n.style.backgroundColor="rgba(255, 255, 255, 0.25)",n.style.border="1px rgba(0, 0, 0, 0.25)",r.forEach(function(e){e.style.backgroundColor="rgb(0, 0, 0)"}),"black-flowtime"===c.flowtime&&"black-chilltime"===c.chilltime&&(document.getElementById(s.flowtime).click(),document.getElementById(s.chilltime).click())}function sendSuggestionBreakNotification(e,o,t,n,r,i){let a;a=1!==e?"Need a break? You've been hard at work for "+e.toString()+" minutes!":"Need a break? You've been hard at work for "+e.toString()+" minute!",new Notification(a),o.lastBreakSuggestionNotification=Date.now(),playAlertSoundCountdown(t,n,r.general,i.general)}function sendFlowmodoroNotification(e,o,t,n,r,i,a){let d;d=1==e[o.currentFlowmodoroBreakIndex]?"It's been "+o.currentFlowmodoroNotification+" minute! Are you ready to get back into Flow Time?":"It's been "+o.currentFlowmodoroNotification+" minutes! Are you ready to get back into Flow Time?",new Notification(d),t.lastFlowmodoroNotification=Date.now(),playAlertSoundCountdown(n,r,i.flowmodoro,a.flowmodoro)}function sendPomodoroDelayNotification(e,o,t,n,r,i,a){let d;d=0==o.currentPomodoroIntervalOrderIndex||2==o.currentPomodoroIntervalOrderIndex||4==o.currentPomodoroIntervalOrderIndex?1==t[o.currentPomodoroIntervalIndex]?"It's been "+o.currentPomodoroNotification+" minute! Are you ready to take a short break?":"It's been "+o.currentPomodoroNotification+" minutes! Are you ready to take a short break?":6==o.currentPomodoroIntervalOrderIndex?1==t[o.currentPomodoroIntervalIndex]?"It's been "+o.currentPomodoroNotification+" minute! Are you ready to take a long break?":"It's been "+o.currentPomodoroNotification+" minutes! Are you ready to take a long break?":1==t[o.currentPomodoroIntervalIndex]?"It's been "+o.currentPomodoroNotification+" minute! Are you ready to start your Pomodoro Interval?":"It's been "+o.currentPomodoroNotification+" minutes! Are you ready to start your Pomodoro Interval?",new Notification(d),playAlertSoundCountdown(n,r,i.pomodoro,a.pomodoro),e.lastPomNotification=Date.now()}function chillTimeRecovery(e,o,t,n,r,i,a,d,l,s,c,m,u,g,p,I,f,y){let h=Date.now()-r.local;var v={intervalIndex:o.currentPomodoroIntervalIndex,intervalOrderIndex:o.currentPomodoroIntervalOrderIndex,notification:o.currentPomodoroNotification};let w=o.pomodorosCompleted;t=t.hyperFocus;let S=r.local;e.autoStartPomodoroInterval&&Math.round(h/1e3)-60*n[o.currentPomodoroIntervalIndex]<=2&&30<(Date.now()-r.lastPomNotification)/1e3&&sendPomodoroDelayNotification(r,o,n,u,g,p,I),e.autoStartPomodoroInterval&&e.autoStartBreakInterval?(h>=60*n[v.intervalIndex]*1e3&&(h-=60*n[v.intervalIndex]*1e3,7===v.intervalOrderIndex?v.intervalOrderIndex=0:v.intervalOrderIndex++,setCurrentPomodoroNotificationRecovery(v,n)),S=Date.now(),r.hyperFocus=S,setRecoverPomState(a,h,w,t,S,o,e,i),setPomodoroIndexes(o,v)):e.autoStartPomodoroInterval?(h-=60*n[v.intervalIndex]*1e3,v.intervalOrderIndex++,setCurrentPomodoroNotificationRecovery(v,n),h>=n[v.intervalIndex]&&w++,S=Date.now()-h,r.hyperFocus=S,setRecoverPomState(a,h,w,t,S,o,e,i),setPomodoroIndexes(o,v)):Math.round(h/1e3)-60*n[o.currentPomodoroIntervalIndex]<=2&&30<(Date.now()-r.lastPomNotification)/1e3&&(pomodoroWorker.postMessage("clearInterval"),sendPomodoroDelayNotification(r,o,n,u,g,p,I))}function flowTimeRecovery(e,o,t,n,r,i,a,d,l,s,c){let m=Date.now()-r.local;var u={intervalIndex:o.currentPomodoroIntervalIndex,intervalOrderIndex:o.currentPomodoroIntervalOrderIndex,notification:o.currentPomodoroNotification};let g=o.pomodorosCompleted,p=t.hyperFocus,I=r.local;e.autoStartBreakInterval&&Math.round(m/1e3)-60*n[o.currentPomodoroIntervalIndex]<=2&&30<(Date.now()-r.lastPomNotification)/1e3&&sendPomodoroDelayNotification(r,o,n,d,l,s,c),e.autoStartPomodoroInterval&&e.autoStartBreakInterval?(m>=60*n[u.intervalIndex]*1e3&&(m-=60*n[u.intervalIndex]*1e3,g++,u.intervalOrderIndex++,setCurrentPomodoroNotificationRecovery(u,n)),p-=m,I=Date.now(),setRecoverBreakState(a,m,g,p,I,o,e,i),setPomodoroIndexes(o,u)):e.autoStartBreakInterval?(m-=60*n[o.currentPomodoroIntervalIndex]*1e3,g++,p-=m,u.intervalOrderIndex++,I=Date.now()-m,setCurrentPomodoroNotificationRecovery(u,n),setRecoverBreakState(a,m,g,p,I,o,e,i),setPomodoroIndexes(o,u)):Math.round(m/1e3)-60*n[o.currentPomodoroIntervalIndex]<=2&&30<(Date.now()-r.lastPomNotification)/1e3&&(pomodoroWorker.postMessage("clearInterval"),sendPomodoroDelayNotification(r,o,n,d,l,s,c))}function recoveryDebuggingOutput(e,o,t,n,r){console.log(getCurrentTime()),console.log("Display Time (in seconds): "+Math.round(e/1e3)),console.log("Current Pomodoro Interval Index: "+o.intervalIndex),console.log("Current Pomodoro Interval Order Index: "+o.intervalOrderIndex),console.log("Pomodoros Completed: "+t),console.log("Elapsed Time In Hyper Focus: "+n),console.log("Local Start Time: "+r),console.log("")}function setRecoverBreakState(e,o,t,n,r,i,a,d){e.displayTime=o,e.pomodorosCompleted=t,e.hyperFocusElapsedTime=n,e.localStartTime=r,i.pomodorosCompleted=e.pomodorosCompleted,a.inRecoveryBreak=!0,d.click()}function setRecoverPomState(e,o,t,n,r,i,a,d){e.displayTime=o,e.pomodorosCompleted=t,e.hyperFocusElapsedTime=n,e.localStartTime=r,i.pomodorosCompleted=e.pomodorosCompleted,a.inRecoveryPom2=!0,d.click()}function setPomodoroIndexes(e,o){e.currentPomodoroIntervalIndex=o.intervalIndex,e.currentPomodoroIntervalOrderIndex=o.intervalOrderIndex,e.currentPomodoroNotification=o.notification}function convertMinutesToTimeFormat(e){var o=Math.floor(e/60),t=e%60,e=Math.floor(60*(e-Math.floor(e)));return String(o).padStart(2,"0")+`:${String(t).padStart(2,"0")}:`+String(e).padStart(2,"0")}function resetPomodoroCounters(e){e.currentPomodoroIntervalIndex=0,e.currentPomodoroIntervalOrderIndex=0}function changeCompletedPomodorosContainerHeader(e,o,t){e.textContent="Pomodoros",o.textContent=t.pomodorosCompleted}function showPomodorosCompletedContainer(e,o,t,n){e.style.display="flex",changeCompletedPomodorosContainerHeader(o,t,n)}function hidePomodorosCompletedContainer(e){e.style.display="none"}function iterateCurrentPomodoroIntervalOrderIndex(e){7===e.currentPomodoroIntervalOrderIndex?e.currentPomodoroIntervalOrderIndex=0:e.currentPomodoroIntervalOrderIndex++}function setCurrentPomodoroNotification(e,o){0===e.currentPomodoroIntervalOrderIndex||2===e.currentPomodoroIntervalOrderIndex||4===e.currentPomodoroIntervalOrderIndex||6===e.currentPomodoroIntervalOrderIndex?(e.currentPomodoroIntervalIndex=0,e.currentPomodoroNotification=o[e.currentPomodoroIntervalIndex]):1===e.currentPomodoroIntervalOrderIndex||3===e.currentPomodoroIntervalOrderIndex||5===e.currentPomodoroIntervalOrderIndex?(e.currentPomodoroIntervalIndex=1,e.currentPomodoroNotification=o[e.currentPomodoroIntervalIndex]):7===e.currentPomodoroIntervalOrderIndex&&(e.currentPomodoroIntervalIndex=2,e.currentPomodoroNotification=o[e.currentPomodoroIntervalIndex])}function setCurrentPomodoroNotificationRecovery(e,o){0===e.intervalOrderIndex||2===e.intervalOrderIndex||4===e.intervalOrderIndex||6===e.intervalOrderIndex?(e.intervalIndex=0,e.notification=o[e.intervalIndex]):1===e.intervalOrderIndex||3===e.intervalOrderIndex||5===e.intervalOrderIndex?(e.intervalIndex=1,e.notification=o[e.intervalIndex]):7===e.intervalOrderIndex&&(e.intervalIndex=2,e.notification=o[e.intervalIndex])}function setPomodoroIntervalArr(e,o,t,n,r,i){"pomodoroInput"===e.target.id?(o[0]=t,0===n.currentPomodoroIntervalIndex&&0!==n.startStop&&i.pomodoroNotificationToggle&&(0===n.currentPomodoroIntervalOrderIndex?r.innerText="Pomodoro #1 | "+o[0].toString()+" min":2===n.currentPomodoroIntervalOrderIndex?r.innerText="Pomodoro #2 | "+o[0].toString()+" min":4===n.currentPomodoroIntervalOrderIndex?r.innerText="Pomodoro #3 | "+o[0].toString()+" min":6===n.currentPomodoroIntervalOrderIndex&&(r.innerText="Pomodoro #4 | "+o[0].toString()+" min"))):"shortBreakInput"===e.target.id?(o[1]=t,1===n.currentPomodoroIntervalIndex&&0!==n.startStop&&i.pomodoroNotificationToggle&&(1===n.currentPomodoroIntervalOrderIndex?r.innerText="Short Break #1 | "+o[1].toString()+" min":3===n.currentPomodoroIntervalOrderIndex?r.innerText="Short Break #2 | "+o[1].toString()+" min":5===n.currentPomodoroIntervalOrderIndex&&(r.innerText="Short Break #3 | "+o[1].toString()+" min"))):"longBreakInput"===e.target.id&&(o[2]=t,2===n.currentPomodoroIntervalIndex)&&0!==n.startStop&&i.pomodoroNotificationToggle&&(r.innerText="Long Break | "+o[2].toString()+" min")}function animationsFadeIn(e,o){e.classList.add("intoOpacityTransition"),e.style.display=o}function animationsFadeOut(e){e.classList.remove("intoOpacityTransition"),setTimeout(()=>{e.style.display="none"},0)}function toggleInfoWindow(e,o,t){var n=t[o];n?e.classList.remove("infoWindowOpacity"):e.classList.add("infoWindowOpacity"),t[o]=!n}function setSuggestionMinutes(e,o,t,n,r,i,a,d,l,s){e=Math.floor((Date.now()-e.hyperFocus)/1e3);o.inHyperFocus?(t.suggestionSeconds=60*n-e,suggestionWorker.postMessage("clearInterval"),suggestionWorker.postMessage(t.suggestionSeconds)):t.suggestionSeconds=60*n}function validateAndSetNotificationInput(e){return 720<e?e=720:(e<1||isNaN(e)||void 0===e)&&(e=1),e}function playAlertSound(e,o,t){"flowmodoro"===o?e.volume=t.flowmodoro:"general"===o?e.volume=t.general:"pomodoro"===o&&(e.volume=t.pomodoro),e.play()}function pauseAndResetAlertSounds(e,o){e.pause(),e.currentTime=0,o.pause(),o.currentTime=0}function alertVolumeChange(e,o,t,n,r,i,a,d){e=e.getBoundingClientRect(),a=(a.clientX-e.left)/e.width,a=Math.max(0,Math.min(1,a));t.style.left=100*a+"%",n.style.width=100*a+"%",r.style.left=100*a+"%",i.style.width=100*a+"%",d.flowmodoroThumbIsDragging||d.flowmodoroThumbIsDragging2?o.flowmodoro=a:d.generalThumbIsDragging||d.generalThumbIsDragging2?o.general=a:(d.pomodoroThumbIsDragging||d.pomodoroThumbIsDragging2)&&(o.pomodoro=a)}function hideAllSettingsContainers(e){for(var[o,t]of Object.entries(e))document.getElementById(t).style.display="none",document.getElementById(o).classList.remove("selected")}function showAllSettingsContainers(e){for(var[o,t]of Object.entries(e))document.getElementById(t).style.display="block"}function setInitialEndSessionBtnText(e,o){o.innerText=e<=504?"End":"End Session"}function handleViewportWidthChange(e,o,t){var n=window.innerWidth||document.documentElement.clientWidth,r=document.getElementById("end-session");if(r.innerText=n<=504?"End":"End Session",n<=650)showAllSettingsContainers(e);else{for(const[i,a]of Object.entries(e))document.getElementById(i).addEventListener("click",function(){hideAllSettingsContainers(e),document.getElementById(a).style.display="block",this.classList.add("selected")});"block"===document.getElementById("settingsContainer").style.display&&document.getElementById(o.lastSettingsSelectionId).click()}t&&(document.getElementById("pomodoroSettingsContainer").style.display="none",document.getElementById("flowmodoroSettingsContainer").style.display="none",document.getElementById("generalSettingsContainer").style.display="none")}function showSuggestionBreakContainer(e,o,t,n,r,i){e.style.display="flex",setCurrentFlowmodoroNotification(i,r,n),changeSuggestionBreakContainerHeader(i,o,t,r)}function setCurrentFlowmodoroNotification(e,o,t){90<=e.lastHyperFocusIntervalMin?o.currentFlowmodoroNotification=t[3]:50<=e.lastHyperFocusIntervalMin?o.currentFlowmodoroNotification=t[2]:25<=e.lastHyperFocusIntervalMin?o.currentFlowmodoroNotification=t[1]:o.currentFlowmodoroNotification=t[0]}function setBreakTimeSuggestionsArr(e,o,t,n){"flowmodoroBreakInput1"===e.target.id?(o[0]=t,n.currentFlowmodoroBreakIndex=0):"flowmodoroBreakInput2"===e.target.id?(o[1]=t,n.currentFlowmodoroBreakIndex=1):"flowmodoroBreakInput3"===e.target.id?(o[2]=t,n.currentFlowmodoroBreakIndex=2):"flowmodoroBreakInput4"===e.target.id&&(o[3]=t,n.currentFlowmodoroBreakIndex=3)}function changeSuggestionBreakContainerHeader(e,o,t,n){e.flowmodoroNotificationToggle?o.textContent="Break":o.textContent="Suggested Break",t.textContent=n.currentFlowmodoroNotification+" min"}function hideSuggestionBreakContainer(e,o){e.style.display="none"}function hideInterruptionsSubContainer(e){e.style.display="none"}function showInterruptionsSubContainer(e){e.style.display="block"}function saveResetInterruptions(e,o,t){t.push(o.interruptions),o.interruptions=0,e.textContent=o.interruptions}function getCurrentTime(){var e=Date.now(),e=new Date(e);return(e.getHours()%12||12)+`:${e.getMinutes().toString().padStart(2,"0")} `+(12<=e.getHours()?"PM":"AM")}function playAlertSoundCountdown(e,o,t,n){"chime"===t?(e.volume=n,e.play()):"bell"===t&&(o.volume=n,o.play())}function detectBrowser(){var e=navigator.userAgent;return-1<e.indexOf("Firefox")?"Firefox":-1<e.indexOf("Safari")&&-1==e.indexOf("Chrome")?"Safari":-1<e.indexOf("Edg")?"Chromium-Edge":-1<e.indexOf("Edge")?"Legacy Edge":-1<e.indexOf("Chrome")?"Chrome":"Another browser"}async function enableNotifications(e,o,t,n){return"Notification"in window?"denied"===Notification.permission||"granted"===await Notification.requestPermission():(alert("This browser does not support desktop notifications"),!1)}function changeTargetHours(e){document.getElementById("target-hours").remove();var o=document.createElement("input");o.type="number",o.id="target-hours",o.name="hours",o.min="0",o.value="",document.getElementById("coolDiv").appendChild(o),o.focus(),document.getElementById("target-hours-submit").textContent="Submit",e.submittedTarget=!1}function replaceTargetHours(e,o,t){var e=Math.round(100*parseFloat(e))/100,n=(o=60*e*60*1e3,document.getElementById("target-hours").remove(),document.createElement("h4"));return n.textContent=e,n.id="target-hours",n.className="finalized-hours",n.style.backgroundColor="#5c5c5c",document.getElementById("coolDiv").appendChild(n),document.getElementById("target-hours-submit").textContent="Change",t.submittedTarget=!0,o}function targetHoursValidate(e,o,t,n,r,i){var a=Math.round(100*parseFloat(e))/100;return!(!e||a<=0||24<a||60*a*60*1e3<=getTotalElapsed(r,n.hyperFocus,t))||(0!==i.startStop?r.inHyperFocus?alert("Enter a valid target time between "+Math.ceil(100*parseFloat((n.hyperFocus+(Date.now()-t.local))/o.msPerHour))/100+" hours and 24 hours"):r.inHyperFocus||alert("Enter a valid target time between "+Math.ceil(100*parseFloat(n.hyperFocus/o.msPerHour))/100+" hours and 24 hours"):0===i.startStop&&alert("Enter a valid target time between 0.01 hours and 24 hours"),!1)}function setButtonTextAndMode(e,o,t,n,r){e.innerText=n,o.innerText=r,t.inHyperFocus="Stop"===n}function updateProgressBar(o,t,n,r,i,a){if(isNaN(o)||null===o||!r.submittedTarget)i.classList.contains("fullopacity1")&&(i.classList.remove("fullopacity1"),setTimeout(()=>{i.style.width="0%"},500));else{i.classList.contains("fullopacity1")||i.classList.add("fullopacity1");let e=getTotalElapsed(r,n.hyperFocus,t)/o;1<e&&(e=1),0!==o&&1<=e&&!r.hitTarget&&(r.hitTarget=!0,setTimeout(()=>{1==r.targetReachedToggle&&new Notification("Congrats! You've hit your target time!")},1),a.classList.add("glowing-effect")),i.style.width=100*e+"%"}}function resetDisplay(e){e.innerText="00:00:00"}function veryStartActions(e,o,t,n){e.beginning=Date.now(),setBrowserTabTitle(),document.getElementById("target-hours").classList.remove("glowing-effect"),o.classList.add("hyperChillLogoRotate"),""!=document.getElementById("target-hours").value&&(""!=!document.getElementById("target-hours").value||n.submittedTarget)||(t.classList.toggle("small"),n.progressBarContainerIsSmall=!0)}function setBackground(e){document.body.style.backgroundImage=e,document.documentElement.style.backgroundImage=e}function playClick(e,o){1==o.transitionClockSoundToggle&&(e.volume=.25,e.play())}function handleEnter(e,o,t,n,r){"Enter"===e.key&&(e.preventDefault(),"target-hours"===document.activeElement.id?t.click():document.activeElement!==n&&"noteInput"!=document.activeElement.className&&(r.autoSwitchedModes=!1,o.click()))}function totalTimeDisplay(e,o,t,n,r,i){o=getTotalElapsed(r,o.hyperFocus,e);let a=Math.floor(o/n.msPerHour),d=Math.floor((o-a*n.msPerHour)/n.msPerMin),l=Math.floor((o-a*n.msPerHour-d*n.msPerMin)/n.msPerSec);if(a=a.toString().padStart(2,"0"),d=d.toString().padStart(2,"0"),l=l.toString().padStart(2,"0"),r.submittedTarget){let e=o/i;1<e&&(e=1),t.textContent=`${a}:${d}:`+l+" ("+Math.trunc(100*e)+"%)"}else t.textContent=`${a}:${d}:`+l}function getTotalElapsed(e,o,t){return e.inHyperFocus?o+(Date.now()-t.local):o}function setBrowserTabTitle(){document.title=document.getElementById("display").innerText,new MutationObserver(function(){document.title=document.getElementById("display").innerText}).observe(document.getElementById("display"),{childList:!0,subtree:!0,characterData:!0})}function setFavicon(e){var o=document.getElementById("favicon1"),t=document.getElementById("favicon2");o.href=e,t.href=e}document.addEventListener("DOMContentLoaded",function(){const i=document.getElementById("start-stop"),L=document.getElementById("target-hours-submit");var W=document.getElementById("end-session"),R=document.getElementById("reportBtn");const a=document.getElementById("progress-text"),t=document.getElementById("productivity-chill-mode"),o=document.getElementById("progress-bar-container"),d=document.getElementById("progress-bar"),l=document.getElementById("progress-container"),H=document.getElementById("display"),V=document.getElementById("interruptions-container"),_=document.getElementById("interruptions-sub-container");var j=document.getElementById("decBtn"),q=document.getElementById("incBtn");const n=document.getElementById("interruptions_num"),r=document.getElementById("suggestionBreakContainer"),s=document.getElementById("suggestionBreak-label"),c=document.getElementById("suggestionBreak-min"),m=document.getElementById("completedPomodorosContainer"),$=document.getElementById("completedPomodoros-label"),G=document.getElementById("completedPomodoros-min"),Y=document.getElementById("target-hours-container"),z=document.getElementById("timekeeping-container"),U=document.getElementById("popup-menu"),X=document.getElementById("settingsContainer"),K=document.getElementById("notes-container"),J=document.getElementById("aboutContainer"),Q=document.getElementById("blogContainer"),Z=document.getElementById("black-flowtime"),ee=document.getElementById("black-chilltime"),oe=document.getElementById("targetTimeReachedToggle"),u=document.getElementById("breakSuggestionToggle"),g=document.getElementById("suggestionMinutesInput"),p=document.getElementById("flowmodoroNotificationToggle");var te=document.getElementById("flowmodoroNotifications");const ne=document.getElementById("flowmodoroNotificationInfoWindow");var re=document.getElementById("flowTimeBreakNotification");const ie=document.getElementById("flowTimeBreakNotificationInfoWindow");var ae=document.getElementById("pomodoroNotifications");const de=document.getElementById("pomodoroNotificationInfoWindow"),I=document.getElementById("pomodoroNotificationToggle");var le=document.getElementById("autoStartPomodoroIntervalToggle"),se=document.getElementById("autoStartBreakIntervalToggle"),ce=document.getElementById("defaultThemeContainer");const me=document.getElementById("defaultTheme");var ue=document.getElementById("darkThemeContainer");const ge=document.getElementById("darkGrayTheme");var pe=document.getElementById("targetTimeReachedAlert");const Ie=document.getElementById("transitionClockSoundToggle"),fe=document.getElementById("flowTimeAnimationToggle"),ye=document.getElementById("chillTimeAnimationToggle"),he=document.getElementById("pomodoroVolumeContainer"),ve=document.getElementById("pomodoroVolumeBar"),we=document.getElementById("pomodoroVolumeThumb"),Se=document.getElementById("flowmodoroVolumeContainer"),ke=document.getElementById("flowmodoroVolumeBar"),Be=document.getElementById("flowmodoroVolumeThumb"),Te=document.getElementById("generalVolumeContainer"),Ee=document.getElementById("generalVolumeBar"),Pe=document.getElementById("generalVolumeThumb"),Ce=document.getElementById("pomodoroVolumeContainer2"),be=document.getElementById("pomodoroVolumeBar2"),Ne=document.getElementById("pomodoroVolumeThumb2"),xe=document.getElementById("flowmodoroVolumeContainer2"),Ae=document.getElementById("flowmodoroVolumeBar2"),Fe=document.getElementById("flowmodoroVolumeThumb2"),Me=document.getElementById("generalVolumeContainer2"),De=document.getElementById("generalVolumeBar2"),Oe=document.getElementById("generalVolumeThumb2");var Le=document.querySelectorAll(".flowmodoroAlert"),We=document.querySelectorAll(".flowmodoroBreak"),Re=document.querySelectorAll(".generalAlert"),He=document.querySelectorAll(".pomodoroInterval"),Ve=document.querySelectorAll(".pomodoroAlert"),_e=document.querySelectorAll(".flowtimeBackgroundCell"),je=document.querySelectorAll(".chilltimeBackgroundCell");const f=new Audio("sounds/alerts/LEX_LM_77_bell_loop_vinyl_night_F.wav"),y=new Audio("sounds/alerts/ESM_Christmas_Glockenspiel_Bell_Pluck_Hit_Single_9_Wet_Perc_Tonal.wav"),qe=new Audio("sounds/new_clock_tick.wav"),h=document.getElementById("flowAnimation"),v=document.getElementById("chillAnimation"),$e=document.getElementById("hyperChillLogoImage"),Ge=document.getElementById("userInputTask");var Ye=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),ze=window.innerWidth||document.documentElement.clientWidth;const Ue={"green-default":"linear-gradient(to bottom, #5dd44d, #50b350, #004400)","red-flowtime":"linear-gradient(to bottom, #ff595e, #ff595e, #ff595e)","yellow-flowtime":"linear-gradient(to bottom, #ffca3a, #ffca3a, #ffca3a)","blue-flowtime":"linear-gradient(to bottom, #1982c4, #1982c4, #1982c4)","purple-flowtime":"linear-gradient(to bottom, #6a4c93, #6a4c93, #6a4c93)","black-flowtime":"linear-gradient(to bottom, #202020, #202020, #202020)"},Xe={"blue-default":"linear-gradient(to bottom, #3b8fe3, #1d60a3, #7f04c7)","red-chilltime":"linear-gradient(to bottom, #ff595e, #ff595e, #ff595e)","yellow-chilltime":"linear-gradient(to bottom, #ffca3a, #ffca3a, #ffca3a)","green-chilltime":"linear-gradient(to bottom, #5dd44d, #5dd44d, #5dd44d)","purple-chilltime":"linear-gradient(to bottom, #6a4c93, #6a4c93, #6a4c93)","black-chilltime":"linear-gradient(to bottom, #202020, #202020, #202020)"},w={flowtime:"linear-gradient(to bottom, #5dd44d, #50b350, #004400)",chilltime:"linear-gradient(to bottom, #3b8fe3, #1d60a3, #7f04c7)"},Ke={flowtime:null,chilltime:null},S={flowtime:"green-default",chilltime:"blue-default"},k={msPerHour:36e5,msPerMin:6e4,msPerSec:1e3};let B={main:null,total:null,local:null,suggestion:null,chillTimeBreak:null,pomodoro:null},T={hyperFocus:void 0,chillTime:void 0,local:void 0,beginning:void 0,lastPomNotification:void 0,lastFlowmodoroNotification:0,lastBreakSuggestionNotification:0},E={displayTime:null,pomodorosCompleted:null,hyperFocusElapsedTime:null,localStartTime:null},P={displayTime:null,pomodorosCompleted:null,hyperFocusElapsedTime:null,localStartTime:null},C=null,b=[5,8,10,15],N=null,x=[25,5,15];let A={hyperFocus:0,chillTime:0,suggestionSeconds:0,flowmodoroNotificationSeconds:0,lastHyperFocusIntervalMin:0,pomodoroNotificationSeconds:0},F={pomodoro:.5,flowmodoro:.5,general:.5},M={pomodoro:"none",flowmodoro:"none",general:"none"},D={startStop:0,interruptions:0,currentFlowmodoroNotification:0,currentFlowmodoroBreakIndex:0,currentPomodoroNotification:0,currentPomodoroIntervalIndex:0,currentPomodoroIntervalOrderIndex:0,pomodorosCompleted:0},O={hitTarget:!(savedInterruptionsArr=[]),submittedTarget:!1,inHyperFocus:!1,targetReachedToggle:!1,breakSuggestionToggle:!1,submittedSuggestionMinutes:!1,transitionClockSoundToggle:!1,flowmodoroNotificationToggle:!1,progressBarContainerIsSmall:!1,flowmodoroThumbIsDragging:!1,autoStartFlowTimeInterval:!1,autoStartChillTimeInterval:!1,showingPomodoroNotificationInfoWindow:!1,showingFlowmodoroNotificationInfoWindow:!1,showingFlowTimeBreakNotificationInfoWindow:!1,generalThumbIsDragging:!1,pomodoroThumbIsDragging:!1,flowmodoroThumbIsDragging2:!1,generalThumbIsDragging2:!1,pomodoroThumbIsDragging2:!1,pomodoroNotificationToggle:!1,autoStartPomodoroInterval:!1,autoStartBreakInterval:!1,autoSwitchedModes:!1,inRecoveryBreak:!1,inRecoveryPom:!1,inRecoveryBreak2:!1,inRecoveryPom2:!1,flowTimeAnimationToggle:!0,chillTimeAnimationToggle:!0,darkThemeActivated:!1,modeChangeExecuted:!1,sentFlowmodoroNotification:!1,sentSuggestionMinutesNotification:!1};tempStorage={lastSettingsSelectionId:"pomodoroBtnContainer"};const e={pomodoroBtnContainer:"pomodoroSettingsContainer",flowmodoroBtnContainer:"flowmodoroSettingsContainer",generalBtnContainer:"generalSettingsContainer",backgroundsBtnContainer:"backgroundsSettingsContainer",soundsBtnContainer:"soundsSettingsContainer",accountBtnContainer:"accountSettingsContainer",supportAndFeedbackBtnContainer:"supportAndFeedbackSettingsContainer"};setInitialEndSessionBtnText(ze,W),document.addEventListener("keydown",e=>handleEnter(e,i,L,Ge,O)),i.addEventListener("click",function(){if(playClick(qe,O),resetDisplay(H),D.startStop++,1===D.startStop?(veryStartActions(T,$e,o,O),T.lastPomNotification=Date.now()):O.pomodoroNotificationToggle&&"Chill Time"!==t.textContent&&iterateCurrentPomodoroIntervalOrderIndex(D),O.inRecoveryBreak?T.local=E.localStartTime:O.inRecoveryPom2?T.local=P.localStartTime:T.local=Date.now(),displayWorker.postMessage("clearInterval"),displayWorker.postMessage("startInterval"),B.main){O.inHyperFocus=!1,(O.inRecoveryBreak||O.inRecoveryPom&&!O.autoSwitchedModes)&&(A.hyperFocus=E.hyperFocusElapsedTime),setFavicon("/images/logo/HyperChillLogoBlue.png"),animationsFadeOut(h),O.chillTimeAnimationToggle&&animationsFadeIn(v,"flex"),saveResetInterruptions(n,D,savedInterruptionsArr),hideInterruptionsSubContainer(_),O.lastHyperFocusIntervalMin=Math.floor((Date.now()-T.hyperFocus)/6e4);var e=A.hyperFocus;if(A.hyperFocus+=Date.now()-T.hyperFocus,O.pomodoroNotificationToggle?(showPomodorosCompletedContainer(m,$,G,D),e=e+60*x[D.currentPomodoroIntervalIndex]*1e3,O.autoSwitchedModes&&(A.hyperFocus=e),e=A.hyperFocus,A.hyperFocus=1e3*Math.round(e/1e3),totalTimeDisplay(T,A,a,k,O,C),O.inRecoveryBreak&&(setTimeout(()=>{updateProgressBar(C,T,A,O,d,l)},1e3),getTotalElapsed(O,A.hyperFocus,T)<C)&&(l.classList.remove("glowing-effect"),O.hitTarget=!1)):showSuggestionBreakContainer(r,s,c,b,D,O),O.autoSwitchedModes=!1,O.flowmodoroNotificationToggle&&(A.flowmodoroNotificationSeconds=60*D.currentFlowmodoroNotification,flowmodoroWorker.postMessage(A.flowmodoroNotificationSeconds)),setCurrentPomodoroNotification(D,x),O.pomodoroNotificationToggle&&(!O.inRecoveryBreak||O.autoStartPomodoroInterval&&O.autoStartBreakInterval?A.pomodoroNotificationSeconds=60*D.currentPomodoroNotification:A.pomodoroNotificationSeconds=Math.round(60*D.currentPomodoroNotification-(E.displayTime/1e3-1)),pomodoroWorker.postMessage("clearInterval"),pomodoroWorker.postMessage(A.pomodoroNotificationSeconds)),O.pomodoroNotificationToggle){let e;1===D.currentPomodoroIntervalOrderIndex?e="Short Break #1 | "+x[1].toString()+" min":3===D.currentPomodoroIntervalOrderIndex?e="Short Break #2 | "+x[1].toString()+" min":5===D.currentPomodoroIntervalOrderIndex?e="Short Break #3 | "+x[1].toString()+" min":7===D.currentPomodoroIntervalOrderIndex&&(e="Long Break | "+x[2].toString()+" min"),setButtonTextAndMode(i,t,O,"Start",e)}else setButtonTextAndMode(i,t,O,"Start","Chill Time");T.chillTime=Date.now(),clearInterval(B.main),B.main=null,totalDisplayWorker.postMessage("clearInterval"),O.breakSuggestionToggle&&suggestionWorker.postMessage("clearInterval"),setBackground(w.chilltime)}else{if(O.inHyperFocus=!0,O.sentFlowmodoroNotification=!1,totalDisplayWorker.postMessage("startInterval"),setFavicon("/images/logo/HyperChillLogoGreen.png"),1<D.startStop&&animationsFadeOut(v),O.flowTimeAnimationToggle&&animationsFadeIn(h,"block"),hideSuggestionBreakContainer(r,s,c),hidePomodorosCompletedContainer(m),showInterruptionsSubContainer(_),O.pomodoroNotificationToggle){let e;0===D.currentPomodoroIntervalOrderIndex?e="Pomodoro #1 | "+x[0].toString()+" min":2===D.currentPomodoroIntervalOrderIndex?e="Pomodoro #2 | "+x[0].toString()+" min":4===D.currentPomodoroIntervalOrderIndex?e="Pomodoro #3 | "+x[0].toString()+" min":6===D.currentPomodoroIntervalOrderIndex&&(e="Pomodoro #4 | "+x[0].toString()+" min"),setButtonTextAndMode(i,t,O,"Stop",e)}else setButtonTextAndMode(i,t,O,"Stop","Flow Time");O.inRecoveryPom2&&(A.hyperFocus=P.hyperFocusElapsedTime),O.inRecoveryPom2||(T.hyperFocus=Date.now()),B.main=setInterval(()=>updateProgressBar(C,T,A,O,d,l),1e3),setCurrentPomodoroNotification(D,x),O.pomodoroNotificationToggle&&(!O.inRecoveryPom2||O.autoStartPomodoroInterval&&O.autoStartBreakInterval?A.pomodoroNotificationSeconds=60*D.currentPomodoroNotification:A.pomodoroNotificationSeconds=Math.round(60*D.currentPomodoroNotification-(P.displayTime/1e3-1)),pomodoroWorker.postMessage("clearInterval"),pomodoroWorker.postMessage(A.pomodoroNotificationSeconds)),O.breakSuggestionToggle&&(A.suggestionSeconds=60*N,suggestionWorker.postMessage(A.suggestionSeconds)),O.flowmodoroNotificationToggle&&flowmodoroWorker.postMessage("clearInterval"),1<D.startStop&&(A.chillTime+=Date.now()-T.chillTime),setBackground(w.flowtime),O.autoSwitchedModes=!1,setTimeout(()=>{O.modeChangeExecuted=!1},1e3)}O.inRecoveryBreak=!1,O.inRecoveryPom=!1,O.inRecoveryBreak2=!1,O.inRecoveryPom2=!1,O.sentSuggestionMinutesNotification=!1,setTimeout(()=>{O.modeChangeExecuted=!1},1e3)}),L.addEventListener("click",function(){var e;O.submittedTarget?O.submittedTarget&&(O.hitTarget&&l.classList.remove("glowing-effect"),changeTargetHours(O),updateProgressBar(C,T,A,O,d,l),totalTimeDisplay(T,A,a,k,O,C),0<D.startStop)&&(O.progressBarContainerIsSmall||(o.classList.toggle("small"),O.progressBarContainerIsSmall=!0)):targetHoursValidate(e=document.getElementById("target-hours").value,k,T,A,O,D)&&(O.hitTarget&&l.classList.remove("glowing-effect"),C=replaceTargetHours(e,C,O),O.progressBarContainerIsSmall&&(o.classList.toggle("small"),O.progressBarContainerIsSmall=!1),updateProgressBar(C,T,A,O,d,l),totalTimeDisplay(T,A,a,k,O,C),O.hitTarget=!1)}),g.addEventListener("change",function(){var e=g.value,e=validateAndSetNotificationInput(N=Math.round(parseFloat(e)));g.value=e,O.breakSuggestionToggle&&setSuggestionMinutes(T,O,A,e,B,M,F,f,y,i)}),j.addEventListener("click",function(){0<D.interruptions&&(D.interruptions--,n.textContent=D.interruptions)}),q.addEventListener("click",function(){D.interruptions<1e3&&(D.interruptions++,n.textContent=D.interruptions)});for(const[Je,Qe]of Object.entries(e))document.getElementById(Je).addEventListener("click",function(){hideAllSettingsContainers(e),document.getElementById(Qe).style.display="block",this.classList.add("selected"),tempStorage.lastSettingsSelectionId=Je});Ye&&(document.getElementById("notificationsHeaderContainer").style.display="none",document.getElementById("pomodoroBtnContainer").style.display="none",document.getElementById("flowmodoroBtnContainer").style.display="none",document.getElementById("generalBtnContainer").style.display="none",document.getElementById("pomodoroSettingsContainer").style.display="none",document.getElementById("flowmodoroSettingsContainer").style.display="none",document.getElementById("generalSettingsContainer").style.display="none",document.getElementById("pomodoroAlertSoundBlock2").style.display="none",document.getElementById("flowmodoroAlertSoundBlock2").style.display="none",document.getElementById("generalAlertSoundBlock2").style.display="none",tempStorage.lastSettingsSelectionId="backgroundsBtnContainer"),ae.addEventListener("click",function(){toggleInfoWindow(de,"showingPomodoroNotificationInfoWindow",O)}),te.addEventListener("click",function(){toggleInfoWindow(ne,"showingFlowmodoroNotificationInfoWindow",O)}),re.addEventListener("click",function(){toggleInfoWindow(ie,"showingFlowTimeBreakNotificationInfoWindow",O)}),Be.addEventListener("mousedown",e=>{O.flowmodoroThumbIsDragging=!0,e.preventDefault()}),Pe.addEventListener("mousedown",e=>{O.generalThumbIsDragging=!0,e.preventDefault()}),we.addEventListener("mousedown",e=>{O.pomodoroThumbIsDragging=!0,e.preventDefault()}),Fe.addEventListener("mousedown",e=>{O.flowmodoroThumbIsDragging2=!0,e.preventDefault()}),Oe.addEventListener("mousedown",e=>{O.generalThumbIsDragging2=!0,e.preventDefault()}),Ne.addEventListener("mousedown",e=>{O.pomodoroThumbIsDragging2=!0,e.preventDefault()}),document.addEventListener("mousemove",e=>{O.flowmodoroThumbIsDragging?alertVolumeChange(Se,F,Be,ke,Fe,Ae,e,O):O.flowmodoroThumbIsDragging2?alertVolumeChange(xe,F,Be,ke,Fe,Ae,e,O):O.generalThumbIsDragging?alertVolumeChange(Te,F,Pe,Ee,Oe,De,e,O):O.generalThumbIsDragging2?alertVolumeChange(Me,F,Pe,Ee,Oe,De,e,O):O.pomodoroThumbIsDragging?alertVolumeChange(he,F,we,ve,Ne,be,e,O):O.pomodoroThumbIsDragging2&&alertVolumeChange(Ce,F,we,ve,Ne,be,e,O)}),document.addEventListener("mouseup",e=>{O.flowmodoroThumbIsDragging||O.flowmodoroThumbIsDragging2?("chime"===M.flowmodoro?(pauseAndResetAlertSounds(y,f),playAlertSound(f,"flowmodoro",F)):"bell"===M.flowmodoro&&(pauseAndResetAlertSounds(y,f),playAlertSound(y,"flowmodoro",F)),O.flowmodoroThumbIsDragging=!1,O.flowmodoroThumbIsDragging2=!1):O.generalThumbIsDragging||O.generalThumbIsDragging2?("chime"===M.general?(pauseAndResetAlertSounds(y,f),playAlertSound(f,"general",F)):"bell"===M.general&&(pauseAndResetAlertSounds(y,f),playAlertSound(y,"general",F)),O.generalThumbIsDragging=!1,O.generalThumbIsDragging2=!1):O.pomodoroThumbIsDragging||O.pomodoroThumbIsDragging2?("chime"===M.pomodoro?(pauseAndResetAlertSounds(y,f),playAlertSound(f,"pomodoro",F)):"bell"===M.pomodoro&&(pauseAndResetAlertSounds(y,f),playAlertSound(y,"pomodoro",F)),O.pomodoroThumbIsDragging=!1,O.pomodoroThumbIsDragging2=!1):"flowmodoroAlert"!==e.target.className&&"generalAlert"!==e.target.className&&"pomodoroAlert"!==e.target.className&&"volume-thumb"!==e.target.className&&"block"===document.getElementById("settingsContainer").style.display&&pauseAndResetAlertSounds(y,f)}),We.forEach(e=>{e.addEventListener("change",function(e){var o=validateAndSetNotificationInput(Math.round(e.target.value));document.getElementById(e.target.id).value=o,setBreakTimeSuggestionsArr(e,b,o,D),setCurrentFlowmodoroNotification(O,D,b),0===D.startStop||O.inHyperFocus?A.flowmodoroNotificationSeconds=60*D.currentFlowmodoroNotification:(secondsPassed=Math.round((Date.now()-T.chillTime)/1e3),A.flowmodoroNotificationSeconds=60*D.currentFlowmodoroNotification-secondsPassed,flowmodoroWorker.postMessage("clearInterval"),flowmodoroWorker.postMessage(A.flowmodoroNotificationSeconds)),c.textContent=D.currentFlowmodoroNotification+" min"})}),He.forEach(e=>{e.addEventListener("change",function(e){var o=validateAndSetNotificationInput(Math.round(e.target.value));document.getElementById(e.target.id).value=o,secondsPassed=O.inHyperFocus?Math.round((Date.now()-T.hyperFocus)/1e3):Math.round((Date.now()-T.chillTime)/1e3),setPomodoroIntervalArr(e,x,o,D,t,O),setCurrentPomodoroNotification(D,x),0===D.startStop?A.pomodoroNotificationSeconds=60*D.currentPomodoroNotification:O.pomodoroNotificationToggle&&(A.pomodoroNotificationSeconds=60*D.currentPomodoroNotification-secondsPassed,pomodoroWorker.postMessage("clearInterval"),pomodoroWorker.postMessage(A.pomodoroNotificationSeconds)),c.textContent=D.currentPomodoroNotification+" min"})}),Le.forEach(e=>{e.addEventListener("change",function(e){"flowmodoroNoAlertInput"===e.target.id||"flowmodoroNoAlertInput2"===e.target.id?(pauseAndResetAlertSounds(y,f),M.flowmodoro="none",document.getElementById("flowmodoroNoAlertInput").checked=!0,document.getElementById("flowmodoroNoAlertInput2").checked=!0):"flowmodoroChimeInput"===e.target.id||"flowmodoroChimeInput2"===e.target.id?(pauseAndResetAlertSounds(y,f),M.flowmodoro="chime",document.getElementById("flowmodoroChimeInput").checked=!0,document.getElementById("flowmodoroChimeInput2").checked=!0,playAlertSound(f,"flowmodoro",F)):"flowmodoroBellInput"!==e.target.id&&"flowmodoroBellInput2"!==e.target.id||(pauseAndResetAlertSounds(y,f),M.flowmodoro="bell",document.getElementById("flowmodoroBellInput").checked=!0,document.getElementById("flowmodoroBellInput2").checked=!0,playAlertSound(y,"flowmodoro",F))})}),Re.forEach(e=>{e.addEventListener("change",function(e){"generalNoAlertInput"===e.target.id||"generalNoAlertInput2"===e.target.id?(pauseAndResetAlertSounds(y,f),M.general="none",document.getElementById("generalNoAlertInput").checked=!0,document.getElementById("generalNoAlertInput2").checked=!0):"generalChimeInput"===e.target.id||"generalChimeInput2"===e.target.id?(pauseAndResetAlertSounds(y,f),M.general="chime",playAlertSound(f,"general",F),document.getElementById("generalChimeInput").checked=!0,document.getElementById("generalChimeInput2").checked=!0):"generalBellInput"!==e.target.id&&"generalBellInput2"!==e.target.id||(pauseAndResetAlertSounds(y,f),M.general="bell",playAlertSound(y,"general",F),document.getElementById("generalBellInput").checked=!0,document.getElementById("generalBellInput2").checked=!0)})}),Ve.forEach(e=>{e.addEventListener("change",function(e){"pomodoroNoAlertInput"===e.target.id||"pomodoroNoAlertInput2"===e.target.id?(pauseAndResetAlertSounds(y,f),M.pomodoro="none",document.getElementById("pomodoroNoAlertInput").checked=!0,document.getElementById("pomodoroNoAlertInput2").checked=!0):"pomodoroChimeInput"===e.target.id||"pomodoroChimeInput2"===e.target.id?(pauseAndResetAlertSounds(y,f),M.pomodoro="chime",playAlertSound(f,"pomodoro",F),document.getElementById("pomodoroChimeInput").checked=!0,document.getElementById("pomodoroChimeInput2").checked=!0):"pomodoroBellInput"!==e.target.id&&"pomodoroBellInput2"!==e.target.id||(pauseAndResetAlertSounds(y,f),M.pomodoro="bell",playAlertSound(y,"pomodoro",F),document.getElementById("pomodoroBellInput").checked=!0,document.getElementById("pomodoroBellInput2").checked=!0)})}),_e.forEach(e=>{e.addEventListener("click",function(e){var o=e.target.id,t=S.flowtime;document.getElementById(t).classList.remove("selected-background"),w.flowtime=Ue[o],S.flowtime=o,document.getElementById(e.target.id).classList.add("selected-background"),O.inHyperFocus&&setBackground(w.flowtime)})}),je.forEach(e=>{e.addEventListener("click",function(e){var o=e.target.id,t=S.chilltime;document.getElementById(t).classList.remove("selected-background"),w.chilltime=Xe[o],S.chilltime=o,document.getElementById(e.target.id).classList.add("selected-background"),O.inHyperFocus||setBackground(w.chilltime)})}),oe.addEventListener("click",function(){oe.checked?O.targetReachedToggle=!0:O.targetReachedToggle=!1}),u.addEventListener("click",function(){u.checked?(enableNotifications(u,p,I,O),O.breakSuggestionToggle=!0,O.inHyperFocus?setButtonTextAndMode(i,t,O,"Stop","Flow Time"):setButtonTextAndMode(i,t,O,"Start","Chill Time"),resetPomodoroCounters(D),I.checked&&I.click(),N=g.value,setSuggestionMinutes(T,O,A,N,B,M,F,f,y,i)):suggestionWorker.postMessage("clearInterval")}),p.addEventListener("click",function(){var e;p.checked?(enableNotifications(u,p,I,O),resetPomodoroCounters(D),I.checked&&I.click(),e=Math.floor((Date.now()-T.chillTime)/1e3),O.inHyperFocus||0===D.startStop||(A.flowmodoroNotificationSeconds=60*D.currentFlowmodoroNotification-e,flowmodoroWorker.postMessage("clearInterval"),flowmodoroWorker.postMessage(A.flowmodoroNotificationSeconds)),O.flowmodoroNotificationToggle=!0):(O.flowmodoroNotificationToggle=!1,flowmodoroWorker.postMessage("clearInterval")),changeSuggestionBreakContainerHeader(O,s,c,D)}),I.addEventListener("click",function(){var e,o;I.checked?(enableNotifications(u,p,I,O),resetPomodoroCounters(D),p.checked&&p.click(),u.checked&&u.click(),e=Math.floor((Date.now()-T.hyperFocus)/1e3),O.inHyperFocus&&(o="Pomodoro #1 | "+x[0].toString()+" min",setButtonTextAndMode(i,t,O,"Stop",o),A.pomodoroNotificationSeconds=60*D.currentPomodoroNotification-e,pomodoroWorker.postMessage(A.pomodoroNotificationSeconds)),O.pomodoroNotificationToggle=!0):(O.pomodoroNotificationToggle=!1,pomodoroWorker.postMessage("clearInterval"),O.inHyperFocus?setButtonTextAndMode(i,t,O,"Stop","Flow Time"):1<D.startStop&&(setButtonTextAndMode(i,t,O,"Start","Chill Time"),hidePomodorosCompletedContainer(m),showSuggestionBreakContainer(r,s,c,b,D,O))),changeSuggestionBreakContainerHeader(O,s,c,D)}),le.addEventListener("click",function(){O.autoStartPomodoroInterval?O.autoStartPomodoroInterval&&(O.autoStartPomodoroInterval=!1):O.autoStartPomodoroInterval=!0}),se.addEventListener("click",function(){O.autoStartBreakInterval?O.autoStartBreakInterval&&(O.autoStartBreakInterval=!1):O.autoStartBreakInterval=!0}),pe.addEventListener("click",function(){alert("This is what you will see when you hit your target time!")}),Ie.addEventListener("click",function(){Ie.checked?O.transitionClockSoundToggle=!0:O.transitionClockSoundToggle=!1}),fe.addEventListener("click",function(){fe.checked?(O.flowTimeAnimationToggle=!0,O.inHyperFocus&&animationsFadeIn(h,"block")):(O.flowTimeAnimationToggle=!1,O.inHyperFocus&&animationsFadeOut(h))}),ye.addEventListener("click",function(){ye.checked?(O.chillTimeAnimationToggle=!0,O.inHyperFocus||animationsFadeIn(v,"flex")):(O.chillTimeAnimationToggle=!1,O.inHyperFocus||animationsFadeOut(v))}),ce.addEventListener("click",function(){ge.classList.remove("selected-background"),me.classList.add("selected-background"),O.darkThemeActivated=!1,deactivateDarkTheme(V,Y,z,o,U,X,K,J,Q,Ke,S)}),ue.addEventListener("click",function(){me.classList.remove("selected-background"),ge.classList.add("selected-background"),O.darkThemeActivated=!0,activateDarkTheme(V,Y,z,o,U,X,K,J,Q,Z,ee,Ke,S)}),window.addEventListener("resize",handleViewportWidthChange(e,tempStorage,Ye)),window.addEventListener("resize",function(){handleViewportWidthChange(e,tempStorage,Ye)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?O.inHyperFocus?(h.classList.remove("intoOpacityTransition"),h.style.display="none"):(v.classList.remove("intoOpacityTransition"),v.style.display="none"):"visible"===document.visibilityState&&(O.inHyperFocus?setTimeout(()=>{h.style.display="block",h.classList.add("intoOpacityTransition")},500):0<D.startStop&&setTimeout(()=>{v.style.display="flex",v.classList.add("intoOpacityTransition")},500))}),R.addEventListener("click",function(){alert("This feature is currently under development. Thank you for your patience.")}),W.addEventListener("click",function(){location.reload()}),pomodoroWorker.onmessage=function(e){if(!O.modeChangeExecuted){console.log("POMODOROWORKER EXECUTING"),O.modeChangeExecuted=!0;let e;e=0==D.currentPomodoroIntervalOrderIndex||2==D.currentPomodoroIntervalOrderIndex||4==D.currentPomodoroIntervalOrderIndex?1==x[D.currentPomodoroIntervalIndex]?"It's been "+D.currentPomodoroNotification+" minute! Are you ready to take a short break?":"It's been "+D.currentPomodoroNotification+" minutes! Are you ready to take a short break?":6==D.currentPomodoroIntervalOrderIndex?1==x[D.currentPomodoroIntervalIndex]?"It's been "+D.currentPomodoroNotification+" minute! Are you ready to take a long break?":"It's been "+D.currentPomodoroNotification+" minutes! Are you ready to take a long break?":1==x[D.currentPomodoroIntervalIndex]?"It's been "+D.currentPomodoroNotification+" minute! Are you ready to start your Pomodoro Interval?":"It's been "+D.currentPomodoroNotification+" minutes! Are you ready to start your Pomodoro Interval?",new Notification(e),playAlertSoundCountdown(f,y,M.pomodoro,F.pomodoro),0===D.currentPomodoroIntervalIndex&&D.pomodorosCompleted++,T.lastPomNotification=Date.now(),(O.inHyperFocus&&O.autoStartBreakInterval||!O.inHyperFocus&&O.autoStartPomodoroInterval)&&setTimeout(()=>{O.autoSwitchedModes=!0,i.click()},0)}},suggestionWorker.onmessage=function(e){O.sentSuggestionMinutesNotification||(sendSuggestionBreakNotification(N,T,f,y,M,F),O.sentSuggestionMinutesNotification=!0)},flowmodoroWorker.onmessage=function(e){O.sentFlowmodoroNotification||(sendFlowmodoroNotification(b,D,T,f,y,M,F),O.sentFlowmodoroNotification=!0)},displayWorker.onmessage=function(e){var o=Date.now()-T.local;let t=Math.floor(o/k.msPerHour),n=Math.floor((o-t*k.msPerHour)/k.msPerMin),r=Math.floor((o-t*k.msPerHour-n*k.msPerMin)/k.msPerSec);t=t.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),r=r.toString().padStart(2,"0"),H.textContent=`${t}:${n}:`+r,O.pomodoroNotificationToggle?!O.inHyperFocus&&60*D.currentPomodoroNotification*1e3<1e3*Math.floor((Date.now()-T.local)/1e3)+1e3&&!O.modeChangeExecuted?(O.modeChangeExecuted=!0,O.autoSwitchedModes=!1,chillTimeRecovery(O,D,A,x,T,i,P,C,a,k,d,l,f,y,M,F,$,G)):O.inHyperFocus&&60*D.currentPomodoroNotification*1e3<1e3*Math.floor((Date.now()-T.local)/1e3)+1e3&&!O.modeChangeExecuted&&(O.modeChangeExecuted=!0,O.autoSwitchedModes=!1,flowTimeRecovery(O,D,A,x,T,i,E,f,y,M,F)):(O.flowmodoroNotificationToggle&&!O.inHyperFocus&&60*D.currentFlowmodoroNotification*1e3<1e3*Math.floor((Date.now()-T.local)/1e3)+1e3&&!O.sentFlowmodoroNotification&&(console.log("TIME RECOVERY FOR FLOWMODORO"),flowmodoroWorker.postMessage("clearInterval"),sendFlowmodoroNotification(b,D,T,f,y,M,F),O.sentFlowmodoroNotification=!0),O.breakSuggestionToggle&&O.inHyperFocus&&60*N*1e3<1e3*Math.floor((Date.now()-T.local)/1e3)+1e3&&!O.sentSuggestionMinutesNotification&&(console.log("TIME RECOVERY FOR SUGGESTION MINUTES"),suggestionWorker.postMessage("clearInterval"),sendSuggestionBreakNotification(N,T,f,y,M,F),O.sentSuggestionMinutesNotification=!0))},totalDisplayWorker.onmessage=function(e){totalTimeDisplay(T,A,a,k,O,C)}});