const pomodoroWorker=new Worker("/js/pomodoroWorker.js"),suggestionWorker=new Worker("/js/suggestionWorker.js"),flowmodoroWorker=new Worker("/js/flowmodoroWorker.js"),displayWorker=new Worker("/js/displayWorker.js"),totalDisplayWorker=new Worker("/js/totalDisplayWorker.js");function timeRecovery(o,e,t,n,r,i,a,d,l,s,c,m,u,g,f,p,I,y,v,h,w,k,S){o.pomodoroNotificationToggle?!o.inHyperFocus&&60*e.currentPomodoroNotification*1e3<1e3*Math.floor((Date.now()-t.local)/1e3)+1e3&&!o.modeChangeExecuted?(o.modeChangeExecuted=!0,o.autoSwitchedModes=!1,chillTimeRecovery(o,e,n,r,t,i,a,l,s,c,m,u,g,f,p,I,y,v)):o.inHyperFocus&&60*e.currentPomodoroNotification*1e3<1e3*Math.floor((Date.now()-t.local)/1e3)+1e3&&!o.modeChangeExecuted&&(o.modeChangeExecuted=!0,o.autoSwitchedModes=!1,flowTimeRecovery(o,e,n,r,t,i,d,g,f,p,I)):(o.flowmodoroNotificationToggle&&!o.inHyperFocus&&60*e.currentFlowmodoroNotification*1e3<1e3*Math.floor((Date.now()-t.local)/1e3)+1e3&&!o.sentFlowmodoroNotification&&(h.postMessage("clearInterval"),sendFlowmodoroNotification(w,e,t,g,f,p,I),o.sentFlowmodoroNotification=!0),o.breakSuggestionToggle&&o.inHyperFocus&&60*S*1e3<1e3*Math.floor((Date.now()-t.local)/1e3)+1e3&&!o.sentSuggestionMinutesNotification&&(k.postMessage("clearInterval"),sendSuggestionBreakNotification(S,t,g,f,p,I),o.sentSuggestionMinutesNotification=!0))}function getPomodoroNotificationString(o,e){let t;return t=0==o.currentPomodoroIntervalOrderIndex||2==o.currentPomodoroIntervalOrderIndex||4==o.currentPomodoroIntervalOrderIndex?1==e[o.currentPomodoroIntervalIndex]?"It's been "+o.currentPomodoroNotification+" minute! Are you ready to take a short break?":"It's been "+o.currentPomodoroNotification+" minutes! Are you ready to take a short break?":6==o.currentPomodoroIntervalOrderIndex?1==e[o.currentPomodoroIntervalIndex]?"It's been "+o.currentPomodoroNotification+" minute! Are you ready to take a long break?":"It's been "+o.currentPomodoroNotification+" minutes! Are you ready to take a long break?":1==e[o.currentPomodoroIntervalIndex]?"It's been "+o.currentPomodoroNotification+" minute! Are you ready to start your Pomodoro Interval?":"It's been "+o.currentPomodoroNotification+" minutes! Are you ready to start your Pomodoro Interval?"}function handleRadioChange(o,e,t,n,r,i,a){const d=o["target"];Object.keys(t).forEach(o=>{d.id!==""+e+o+"Input"&&d.id!==""+e+o+"Input2"||(pauseAndResetAlertSounds(n,r),i[e]="NoAlert"===o?"none":o.toLowerCase(),"NoAlert"!==o?(playAlertSound(t[o],e,a),document.getElementById(""+e+o+"Input").checked=!0,document.getElementById(""+e+o+"Input2").checked=!0):(document.getElementById(e+"NoAlertInput").checked=!0,document.getElementById(e+"NoAlertInput2").checked=!0))})}function setPomodoroNotificationSeconds(o,e,t,n,r){o.inRecoveryBreak&&!o.autoStartPomodoroInterval?e.pomodoroNotificationSeconds=Math.round(60*t.currentPomodoroNotification-(n.displayTime/1e3-1)):e.pomodoroNotificationSeconds=60*t.currentPomodoroNotification,r.postMessage("clearInterval"),r.postMessage(e.pomodoroNotificationSeconds)}function recoverToBreakUpdateProgressBarAndTotalElapsed(o,e,t,n,r,i){o.inRecoveryBreak&&(setTimeout(()=>{updateProgressBar(e,t,n,o,r,i)},1e3),getTotalElapsed(o,n.hyperFocus,t)<e)&&(i.classList.remove("glowing-effect"),o.hitTarget=!1)}function setHyperFocusElapsedTime(o,e,t,n,r){o+=60*e[t.currentPomodoroIntervalIndex]*1e3,n.autoSwitchedModes&&(r.hyperFocus=o),e=r.hyperFocus;r.hyperFocus=1e3*Math.round(e/1e3)}function flowmodoroAndBreakSuggestionActions(o,e,t,n,r,i){o.inHyperFocus?(o.breakSuggestionToggle&&(e.suggestionSeconds=60*n,i.postMessage(e.suggestionSeconds)),o.flowmodoroNotificationToggle&&r.postMessage("clearInterval")):(o.flowmodoroNotificationToggle&&(e.flowmodoroNotificationSeconds=60*t.currentFlowmodoroNotification,r.postMessage(e.flowmodoroNotificationSeconds)),o.breakSuggestionToggle&&i.postMessage("clearInterval"))}function setBothBreakIntervalText(o,e){let t;return 1===o.currentPomodoroIntervalOrderIndex?t="Short Break #1 | "+e[1].toString()+" min":3===o.currentPomodoroIntervalOrderIndex?t="Short Break #2 | "+e[1].toString()+" min":5===o.currentPomodoroIntervalOrderIndex?t="Short Break #3 | "+e[1].toString()+" min":7===o.currentPomodoroIntervalOrderIndex&&(t="Long Break | "+e[2].toString()+" min"),t}function setPomodoroWorker(o,e,t,n,r){!o.inRecoveryPom||o.autoStartPomodoroInterval&&o.autoStartBreakInterval?e.pomodoroNotificationSeconds=60*t.currentPomodoroNotification:e.pomodoroNotificationSeconds=Math.round(60*t.currentPomodoroNotification-(n.displayTime/1e3-1)),r.postMessage("clearInterval"),r.postMessage(e.pomodoroNotificationSeconds)}function setBreakIntervalText(o,e){let t;return 1===o.currentPomodoroIntervalOrderIndex?t="Short Break #1 | "+e[1].toString()+" min":3===o.currentPomodoroIntervalOrderIndex?t="Short Break #2 | "+e[1].toString()+" min":5===o.currentPomodoroIntervalOrderIndex&&(t="Short Break #3 | "+e[1].toString()+" min"),t}function setPomodoroIntervalText(o,e){let t;return 0===o.currentPomodoroIntervalOrderIndex?t="Pomodoro #1 | "+e[0].toString()+" min":2===o.currentPomodoroIntervalOrderIndex?t="Pomodoro #2 | "+e[0].toString()+" min":4===o.currentPomodoroIntervalOrderIndex?t="Pomodoro #3 | "+e[0].toString()+" min":6===o.currentPomodoroIntervalOrderIndex&&(t="Pomodoro #4 | "+e[0].toString()+" min"),t}function chillTimeAnimationActions(o,e,t){animationsFadeOut(e),o.chillTimeAnimationToggle&&animationsFadeIn(t,"flex")}function flowTimeAnimationActions(o,e,t,n){1<o.startStop&&animationsFadeOut(t),e.flowTimeAnimationToggle&&animationsFadeIn(n,"block")}function setLocalStartTime(o,e,t,n){o.inRecoveryBreak?e.local=t.localStartTime:o.inRecoveryPom?e.local=n.localStartTime:e.local=Date.now()}function chillTimeToFirstPomodoro(o,e,t){o.pomodoroNotificationToggle&&"Chill Time"!==e.textContent&&iterateCurrentPomodoroIntervalOrderIndex(t)}function activateDarkTheme(o,e,t,n,r,i,a,d,l,s,c,m,u){r=[r,i];[o,e,t,n,a,d,l].forEach(function(o){o.style.backgroundColor="rgba(32, 32, 32, 0.9)",o.style.border="3px solid rgb(255, 255, 255)"}),r.forEach(function(o){o.style.backgroundColor="rgba(32, 32, 32, 1)"}),m.flowtime=u.flowtime,m.chilltime=u.chilltime,s.click(),c.click()}function deactivateDarkTheme(o,e,t,n,r,i,a,d,l,s,c){r=[r,i];[o,e,t,a,d,l].forEach(function(o){o.style.backgroundColor="rgba(0, 0, 0, 0.35)",o.style.border=null}),n.style.backgroundColor="rgba(255, 255, 255, 0.25)",n.style.border="1px rgba(0, 0, 0, 0.25)",r.forEach(function(o){o.style.backgroundColor="rgb(0, 0, 0)"}),"black-flowtime"===c.flowtime&&"black-chilltime"===c.chilltime&&(document.getElementById(s.flowtime).click(),document.getElementById(s.chilltime).click())}function sendSuggestionBreakNotification(o,e,t,n,r,i){let a;a=1!==o?"Need a break? You've been hard at work for "+o.toString()+" minutes!":"Need a break? You've been hard at work for "+o.toString()+" minute!",new Notification(a),e.lastBreakSuggestionNotification=Date.now(),playAlertSoundCountdown(t,n,r.general,i.general)}function sendFlowmodoroNotification(o,e,t,n,r,i,a){let d;d=1==o[e.currentFlowmodoroBreakIndex]?"It's been "+e.currentFlowmodoroNotification+" minute! Are you ready to get back into Flow Time?":"It's been "+e.currentFlowmodoroNotification+" minutes! Are you ready to get back into Flow Time?",new Notification(d),t.lastFlowmodoroNotification=Date.now(),playAlertSoundCountdown(n,r,i.flowmodoro,a.flowmodoro)}function sendPomodoroDelayNotification(o,e,t,n,r,i,a){let d;d=0==e.currentPomodoroIntervalOrderIndex||2==e.currentPomodoroIntervalOrderIndex||4==e.currentPomodoroIntervalOrderIndex?1==t[e.currentPomodoroIntervalIndex]?"It's been "+e.currentPomodoroNotification+" minute! Are you ready to take a short break?":"It's been "+e.currentPomodoroNotification+" minutes! Are you ready to take a short break?":6==e.currentPomodoroIntervalOrderIndex?1==t[e.currentPomodoroIntervalIndex]?"It's been "+e.currentPomodoroNotification+" minute! Are you ready to take a long break?":"It's been "+e.currentPomodoroNotification+" minutes! Are you ready to take a long break?":1==t[e.currentPomodoroIntervalIndex]?"It's been "+e.currentPomodoroNotification+" minute! Are you ready to start your Pomodoro Interval?":"It's been "+e.currentPomodoroNotification+" minutes! Are you ready to start your Pomodoro Interval?",new Notification(d),playAlertSoundCountdown(n,r,i.pomodoro,a.pomodoro),o.lastPomNotification=Date.now()}function chillTimeRecovery(o,e,t,n,r,i,a,d,l,s,c,m,u,g,f,p,I,y){let v=Date.now()-r.local;var h={intervalIndex:e.currentPomodoroIntervalIndex,intervalOrderIndex:e.currentPomodoroIntervalOrderIndex,notification:e.currentPomodoroNotification};let w=e.pomodorosCompleted;t=t.hyperFocus;let k=r.local;o.autoStartPomodoroInterval&&Math.round(v/1e3)-60*n[e.currentPomodoroIntervalIndex]<=2&&30<(Date.now()-r.lastPomNotification)/1e3&&sendPomodoroDelayNotification(r,e,n,u,g,f,p),o.autoStartPomodoroInterval&&o.autoStartBreakInterval?(v>=60*n[h.intervalIndex]*1e3&&(v-=60*n[h.intervalIndex]*1e3,7===h.intervalOrderIndex?h.intervalOrderIndex=0:h.intervalOrderIndex++,setCurrentPomodoroNotificationRecovery(h,n)),k=Date.now(),r.hyperFocus=k,setRecoverPomState(a,v,w,t,k,e,o,i),setPomodoroIndexes(e,h)):o.autoStartPomodoroInterval?(v-=60*n[h.intervalIndex]*1e3,h.intervalOrderIndex++,setCurrentPomodoroNotificationRecovery(h,n),v>=n[h.intervalIndex]&&w++,k=Date.now()-v,r.hyperFocus=k,setRecoverPomState(a,v,w,t,k,e,o,i),setPomodoroIndexes(e,h)):Math.round(v/1e3)-60*n[e.currentPomodoroIntervalIndex]<=2&&30<(Date.now()-r.lastPomNotification)/1e3&&(pomodoroWorker.postMessage("clearInterval"),sendPomodoroDelayNotification(r,e,n,u,g,f,p))}function flowTimeRecovery(o,e,t,n,r,i,a,d,l,s,c){let m=Date.now()-r.local;var u={intervalIndex:e.currentPomodoroIntervalIndex,intervalOrderIndex:e.currentPomodoroIntervalOrderIndex,notification:e.currentPomodoroNotification};let g=e.pomodorosCompleted,f=t.hyperFocus,p=r.local;o.autoStartBreakInterval&&Math.round(m/1e3)-60*n[e.currentPomodoroIntervalIndex]<=2&&30<(Date.now()-r.lastPomNotification)/1e3&&sendPomodoroDelayNotification(r,e,n,d,l,s,c),o.autoStartPomodoroInterval&&o.autoStartBreakInterval?(m>=60*n[u.intervalIndex]*1e3&&(m-=60*n[u.intervalIndex]*1e3,g++,u.intervalOrderIndex++,setCurrentPomodoroNotificationRecovery(u,n)),f-=m,p=Date.now(),setRecoverBreakState(a,m,g,f,p,e,o,i),setPomodoroIndexes(e,u)):o.autoStartBreakInterval?(m-=60*n[e.currentPomodoroIntervalIndex]*1e3,g++,f-=m,u.intervalOrderIndex++,p=Date.now()-m,setCurrentPomodoroNotificationRecovery(u,n),setRecoverBreakState(a,m,g,f,p,e,o,i),setPomodoroIndexes(e,u)):Math.round(m/1e3)-60*n[e.currentPomodoroIntervalIndex]<=2&&30<(Date.now()-r.lastPomNotification)/1e3&&(pomodoroWorker.postMessage("clearInterval"),sendPomodoroDelayNotification(r,e,n,d,l,s,c))}function recoveryDebuggingOutput(o,e,t,n,r){console.log(getCurrentTime()),console.log("Display Time (in seconds): "+Math.round(o/1e3)),console.log("Current Pomodoro Interval Index: "+e.intervalIndex),console.log("Current Pomodoro Interval Order Index: "+e.intervalOrderIndex),console.log("Pomodoros Completed: "+t),console.log("Elapsed Time In Hyper Focus: "+n),console.log("Local Start Time: "+r),console.log("")}function setRecoverBreakState(o,e,t,n,r,i,a,d){o.displayTime=e,o.pomodorosCompleted=t,o.hyperFocusElapsedTime=n,o.localStartTime=r,i.pomodorosCompleted=o.pomodorosCompleted,a.inRecoveryBreak=!0,d.click()}function setRecoverPomState(o,e,t,n,r,i,a,d){o.displayTime=e,o.pomodorosCompleted=t,o.hyperFocusElapsedTime=n,o.localStartTime=r,i.pomodorosCompleted=o.pomodorosCompleted,a.inRecoveryPom=!0,d.click()}function setPomodoroIndexes(o,e){o.currentPomodoroIntervalIndex=e.intervalIndex,o.currentPomodoroIntervalOrderIndex=e.intervalOrderIndex,o.currentPomodoroNotification=e.notification}function convertMinutesToTimeFormat(o){var e=Math.floor(o/60),t=o%60,o=Math.floor(60*(o-Math.floor(o)));return String(e).padStart(2,"0")+`:${String(t).padStart(2,"0")}:`+String(o).padStart(2,"0")}function resetPomodoroCounters(o){o.currentPomodoroIntervalIndex=0,o.currentPomodoroIntervalOrderIndex=0}function changeCompletedPomodorosContainerHeader(o,e,t){o.textContent="Pomodoros",e.textContent=t.pomodorosCompleted}function showPomodorosCompletedContainer(o,e,t,n){o.style.display="flex",changeCompletedPomodorosContainerHeader(e,t,n)}function hidePomodorosCompletedContainer(o){o.style.display="none"}function iterateCurrentPomodoroIntervalOrderIndex(o){7===o.currentPomodoroIntervalOrderIndex?o.currentPomodoroIntervalOrderIndex=0:o.currentPomodoroIntervalOrderIndex++}function setCurrentPomodoroNotification(o,e){0===o.currentPomodoroIntervalOrderIndex||2===o.currentPomodoroIntervalOrderIndex||4===o.currentPomodoroIntervalOrderIndex||6===o.currentPomodoroIntervalOrderIndex?(o.currentPomodoroIntervalIndex=0,o.currentPomodoroNotification=e[o.currentPomodoroIntervalIndex]):1===o.currentPomodoroIntervalOrderIndex||3===o.currentPomodoroIntervalOrderIndex||5===o.currentPomodoroIntervalOrderIndex?(o.currentPomodoroIntervalIndex=1,o.currentPomodoroNotification=e[o.currentPomodoroIntervalIndex]):7===o.currentPomodoroIntervalOrderIndex&&(o.currentPomodoroIntervalIndex=2,o.currentPomodoroNotification=e[o.currentPomodoroIntervalIndex])}function setCurrentPomodoroNotificationRecovery(o,e){0===o.intervalOrderIndex||2===o.intervalOrderIndex||4===o.intervalOrderIndex||6===o.intervalOrderIndex?(o.intervalIndex=0,o.notification=e[o.intervalIndex]):1===o.intervalOrderIndex||3===o.intervalOrderIndex||5===o.intervalOrderIndex?(o.intervalIndex=1,o.notification=e[o.intervalIndex]):7===o.intervalOrderIndex&&(o.intervalIndex=2,o.notification=e[o.intervalIndex])}function setPomodoroIntervalArr(o,e,t,n,r,i){"pomodoroInput"===o.target.id?(e[0]=t,0===n.currentPomodoroIntervalIndex&&0!==n.startStop&&i.pomodoroNotificationToggle&&(r.innerText=setPomodoroIntervalText(n,e))):"shortBreakInput"===o.target.id?(e[1]=t,1===n.currentPomodoroIntervalIndex&&0!==n.startStop&&i.pomodoroNotificationToggle&&(r.innerText=setBreakIntervalText(n,e))):"longBreakInput"===o.target.id&&(e[2]=t,2===n.currentPomodoroIntervalIndex)&&0!==n.startStop&&i.pomodoroNotificationToggle&&(r.innerText="Long Break | "+e[2].toString()+" min")}function animationsFadeIn(o,e){o.classList.add("intoOpacityTransition"),o.style.display=e}function animationsFadeOut(o){o.classList.remove("intoOpacityTransition"),setTimeout(()=>{o.style.display="none"},0)}function toggleInfoWindow(o,e,t){var n=t[e];n?o.classList.remove("infoWindowOpacity"):o.classList.add("infoWindowOpacity"),t[e]=!n}function setSuggestionMinutes(o,e,t,n,r,i,a,d,l,s){o=Math.floor((Date.now()-o.hyperFocus)/1e3);e.inHyperFocus?(t.suggestionSeconds=60*n-o,suggestionWorker.postMessage("clearInterval"),suggestionWorker.postMessage(t.suggestionSeconds)):t.suggestionSeconds=60*n}function validateAndSetNotificationInput(o){return 720<o?o=720:(o<1||isNaN(o)||void 0===o)&&(o=1),o}function playAlertSound(o,e,t){"flowmodoro"===e?o.volume=t.flowmodoro:"general"===e?o.volume=t.general:"pomodoro"===e&&(o.volume=t.pomodoro),o.play()}function pauseAndResetAlertSounds(o,e){o.pause(),o.currentTime=0,e.pause(),e.currentTime=0}function alertVolumeChange(o,e,t,n,r,i,a,d){o=o.getBoundingClientRect(),a=(a.clientX-o.left)/o.width,a=Math.max(0,Math.min(1,a));t.style.left=100*a+"%",n.style.width=100*a+"%",r.style.left=100*a+"%",i.style.width=100*a+"%",d.flowmodoroThumbIsDragging||d.flowmodoroThumbIsDragging2?e.flowmodoro=a:d.generalThumbIsDragging||d.generalThumbIsDragging2?e.general=a:(d.pomodoroThumbIsDragging||d.pomodoroThumbIsDragging2)&&(e.pomodoro=a)}function hideAllSettingsContainers(o){for(var[e,t]of Object.entries(o))document.getElementById(t).style.display="none",document.getElementById(e).classList.remove("selected")}function showAllSettingsContainers(o){for(var[e,t]of Object.entries(o))document.getElementById(t).style.display="block"}function setInitialEndSessionBtnText(o,e){e.innerText=o<=504?"End":"End Session"}function handleViewportWidthChange(o,e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=document.getElementById("end-session");if(r.innerText=n<=504?"End":"End Session",n<=650)showAllSettingsContainers(o);else{for(const[i,a]of Object.entries(o))document.getElementById(i).addEventListener("click",function(){hideAllSettingsContainers(o),document.getElementById(a).style.display="block",this.classList.add("selected")});"block"===document.getElementById("settingsContainer").style.display&&document.getElementById(e.lastSettingsSelectionId).click()}t&&(document.getElementById("pomodoroSettingsContainer").style.display="none",document.getElementById("flowmodoroSettingsContainer").style.display="none",document.getElementById("generalSettingsContainer").style.display="none")}function showSuggestionBreakContainer(o,e,t,n,r,i){o.style.display="flex",setCurrentFlowmodoroNotification(i,r,n),changeSuggestionBreakContainerHeader(i,e,t,r)}function setCurrentFlowmodoroNotification(o,e,t){90<=o.lastHyperFocusIntervalMin?e.currentFlowmodoroNotification=t[3]:50<=o.lastHyperFocusIntervalMin?e.currentFlowmodoroNotification=t[2]:25<=o.lastHyperFocusIntervalMin?e.currentFlowmodoroNotification=t[1]:e.currentFlowmodoroNotification=t[0]}function setBreakTimeSuggestionsArr(o,e,t,n){"flowmodoroBreakInput1"===o.target.id?(e[0]=t,n.currentFlowmodoroBreakIndex=0):"flowmodoroBreakInput2"===o.target.id?(e[1]=t,n.currentFlowmodoroBreakIndex=1):"flowmodoroBreakInput3"===o.target.id?(e[2]=t,n.currentFlowmodoroBreakIndex=2):"flowmodoroBreakInput4"===o.target.id&&(e[3]=t,n.currentFlowmodoroBreakIndex=3)}function changeSuggestionBreakContainerHeader(o,e,t,n){o.flowmodoroNotificationToggle?e.textContent="Break":e.textContent="Suggested Break",t.textContent=n.currentFlowmodoroNotification+" min"}function hideSuggestionBreakContainer(o,e){o.style.display="none"}function hideInterruptionsSubContainer(o){o.style.display="none"}function showInterruptionsSubContainer(o){o.style.display="block"}function saveResetInterruptions(o,e,t){t.push(e.interruptions),e.interruptions=0,o.textContent=e.interruptions}function getCurrentTime(){var o=Date.now(),o=new Date(o);return(o.getHours()%12||12)+`:${o.getMinutes().toString().padStart(2,"0")} `+(12<=o.getHours()?"PM":"AM")}function playAlertSoundCountdown(o,e,t,n){"chime"===t?(o.volume=n,o.play()):"bell"===t&&(e.volume=n,e.play())}function detectBrowser(){var o=navigator.userAgent;return-1<o.indexOf("Firefox")?"Firefox":-1<o.indexOf("Safari")&&-1==o.indexOf("Chrome")?"Safari":-1<o.indexOf("Edg")?"Chromium-Edge":-1<o.indexOf("Edge")?"Legacy Edge":-1<o.indexOf("Chrome")?"Chrome":"Another browser"}async function enableNotifications(o,e,t,n){return"Notification"in window?"denied"===Notification.permission||"granted"===await Notification.requestPermission():(alert("This browser does not support desktop notifications"),!1)}function changeTargetHours(o){document.getElementById("target-hours").remove();var e=document.createElement("input");e.type="number",e.id="target-hours",e.name="hours",e.min="0",e.value="",document.getElementById("coolDiv").appendChild(e),e.focus(),document.getElementById("target-hours-submit").textContent="Submit",o.submittedTarget=!1}function replaceTargetHours(o,e,t){var o=Math.round(100*parseFloat(o))/100,n=(e=60*o*60*1e3,document.getElementById("target-hours").remove(),document.createElement("h4"));return n.textContent=o,n.id="target-hours",n.className="finalized-hours",n.style.backgroundColor="#5c5c5c",document.getElementById("coolDiv").appendChild(n),document.getElementById("target-hours-submit").textContent="Change",t.submittedTarget=!0,e}function targetHoursValidate(o,e,t,n,r,i){var a=Math.round(100*parseFloat(o))/100;return!(!o||a<=0||24<a||60*a*60*1e3<=getTotalElapsed(r,n.hyperFocus,t))||(0!==i.startStop?r.inHyperFocus?alert("Enter a valid target time between "+Math.ceil(100*parseFloat((n.hyperFocus+(Date.now()-t.local))/e.msPerHour))/100+" hours and 24 hours"):r.inHyperFocus||alert("Enter a valid target time between "+Math.ceil(100*parseFloat(n.hyperFocus/e.msPerHour))/100+" hours and 24 hours"):0===i.startStop&&alert("Enter a valid target time between 0.01 hours and 24 hours"),!1)}function setButtonTextAndMode(o,e,t,n,r){o.innerText=n,e.innerText=r,t.inHyperFocus="Stop"===n}function updateProgressBar(e,t,n,r,i,a){if(isNaN(e)||null===e||!r.submittedTarget)i.classList.contains("fullopacity1")&&(i.classList.remove("fullopacity1"),setTimeout(()=>{i.style.width="0%"},500));else{i.classList.contains("fullopacity1")||i.classList.add("fullopacity1");let o=getTotalElapsed(r,n.hyperFocus,t)/e;1<o&&(o=1),0!==e&&1<=o&&!r.hitTarget&&(r.hitTarget=!0,setTimeout(()=>{1==r.targetReachedToggle&&new Notification("Congrats! You've hit your target time!")},1),a.classList.add("glowing-effect")),i.style.width=100*o+"%"}}function resetDisplay(o){o.innerText="00:00:00"}function veryStartActions(o,e,t,n){o.beginning=Date.now(),setBrowserTabTitle(),document.getElementById("target-hours").classList.remove("glowing-effect"),e.classList.add("hyperChillLogoRotate"),""!=document.getElementById("target-hours").value&&(""!=!document.getElementById("target-hours").value||n.submittedTarget)||(t.classList.toggle("small"),n.progressBarContainerIsSmall=!0)}function setBackground(o){document.body.style.backgroundImage=o,document.documentElement.style.backgroundImage=o}function playClick(o,e){1==e.transitionClockSoundToggle&&(o.volume=.25,o.play())}function handleEnter(o,e,t,n,r){"Enter"===o.key&&(o.preventDefault(),"target-hours"===document.activeElement.id?t.click():document.activeElement!==n&&"noteInput"!=document.activeElement.className&&(r.autoSwitchedModes=!1,e.click()))}function totalTimeDisplay(o,e,t,n,r,i){e=getTotalElapsed(r,e.hyperFocus,o);let a=Math.floor(e/n.msPerHour),d=Math.floor((e-a*n.msPerHour)/n.msPerMin),l=Math.floor((e-a*n.msPerHour-d*n.msPerMin)/n.msPerSec);if(a=a.toString().padStart(2,"0"),d=d.toString().padStart(2,"0"),l=l.toString().padStart(2,"0"),r.submittedTarget){let o=e/i;1<o&&(o=1),t.textContent=`${a}:${d}:`+l+" ("+Math.trunc(100*o)+"%)"}else t.textContent=`${a}:${d}:`+l}function getTotalElapsed(o,e,t){return o.inHyperFocus?e+(Date.now()-t.local):e}function setBrowserTabTitle(){document.title=document.getElementById("display").innerText,new MutationObserver(function(){document.title=document.getElementById("display").innerText}).observe(document.getElementById("display"),{childList:!0,subtree:!0,characterData:!0})}function setFavicon(o){var e=document.getElementById("favicon1"),t=document.getElementById("favicon2");e.href=o,t.href=o}document.addEventListener("DOMContentLoaded",function(){const i=document.getElementById("start-stop"),O=document.getElementById("target-hours-submit");var W=document.getElementById("end-session"),H=document.getElementById("reportBtn");const a=document.getElementById("progress-text"),t=document.getElementById("productivity-chill-mode"),e=document.getElementById("progress-bar-container"),d=document.getElementById("progress-bar"),l=document.getElementById("progress-container"),R=document.getElementById("display"),V=document.getElementById("interruptions-container"),_=document.getElementById("interruptions-sub-container");var j=document.getElementById("decBtn"),q=document.getElementById("incBtn");const n=document.getElementById("interruptions_num"),r=document.getElementById("suggestionBreakContainer"),s=document.getElementById("suggestionBreak-label"),c=document.getElementById("suggestionBreak-min"),m=document.getElementById("completedPomodorosContainer"),$=document.getElementById("completedPomodoros-label"),z=document.getElementById("completedPomodoros-min"),G=document.getElementById("target-hours-container"),Y=document.getElementById("timekeeping-container"),U=document.getElementById("popup-menu"),X=document.getElementById("settingsContainer"),J=document.getElementById("notes-container"),K=document.getElementById("aboutContainer"),Q=document.getElementById("blogContainer"),Z=document.getElementById("black-flowtime"),oo=document.getElementById("black-chilltime"),eo=document.getElementById("targetTimeReachedToggle"),u=document.getElementById("breakSuggestionToggle"),g=document.getElementById("suggestionMinutesInput"),f=document.getElementById("flowmodoroNotificationToggle");var to=document.getElementById("flowmodoroNotifications");const no=document.getElementById("flowmodoroNotificationInfoWindow");var ro=document.getElementById("flowTimeBreakNotification");const io=document.getElementById("flowTimeBreakNotificationInfoWindow");var ao=document.getElementById("pomodoroNotifications");const lo=document.getElementById("pomodoroNotificationInfoWindow"),p=document.getElementById("pomodoroNotificationToggle");var so=document.getElementById("autoStartPomodoroIntervalToggle"),co=document.getElementById("autoStartBreakIntervalToggle"),mo=document.getElementById("defaultThemeContainer");const uo=document.getElementById("defaultTheme");var go=document.getElementById("darkThemeContainer");const fo=document.getElementById("darkGrayTheme");document.getElementById("targetTimeReachedAlert");const po=document.getElementById("transitionClockSoundToggle"),Io=document.getElementById("flowTimeAnimationToggle"),yo=document.getElementById("chillTimeAnimationToggle"),vo=document.getElementById("pomodoroVolumeContainer"),ho=document.getElementById("pomodoroVolumeBar"),I=document.getElementById("pomodoroVolumeThumb"),wo=document.getElementById("flowmodoroVolumeContainer"),ko=document.getElementById("flowmodoroVolumeBar"),So=document.getElementById("flowmodoroVolumeThumb"),Bo=document.getElementById("generalVolumeContainer"),To=document.getElementById("generalVolumeBar"),Eo=document.getElementById("generalVolumeThumb"),Po=document.getElementById("pomodoroVolumeContainer2"),bo=document.getElementById("pomodoroVolumeBar2"),Co=document.getElementById("pomodoroVolumeThumb2"),xo=document.getElementById("flowmodoroVolumeContainer2"),No=document.getElementById("flowmodoroVolumeBar2"),Fo=document.getElementById("flowmodoroVolumeThumb2"),Ao=document.getElementById("generalVolumeContainer2"),Mo=document.getElementById("generalVolumeBar2"),Do=document.getElementById("generalVolumeThumb2");var Lo=document.querySelectorAll(".flowmodoroAlert"),Oo=document.querySelectorAll(".flowmodoroBreak"),Wo=document.querySelectorAll(".generalAlert"),Ho=document.querySelectorAll(".pomodoroInterval"),Ro=document.querySelectorAll(".pomodoroAlert"),Vo=document.querySelectorAll(".flowtimeBackgroundCell"),_o=document.querySelectorAll(".chilltimeBackgroundCell");const y=new Audio("sounds/alerts/LEX_LM_77_bell_loop_vinyl_night_F.wav"),v=new Audio("sounds/alerts/ESM_Christmas_Glockenspiel_Bell_Pluck_Hit_Single_9_Wet_Perc_Tonal.wav"),jo=new Audio("sounds/new_clock_tick.wav"),h=document.getElementById("flowAnimation"),w=document.getElementById("chillAnimation"),qo=document.getElementById("hyperChillLogoImage"),$o=document.getElementById("userInputTask");var zo=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),Go=window.innerWidth||document.documentElement.clientWidth;const Yo={"green-default":"linear-gradient(to bottom, #5dd44d, #50b350, #004400)","red-flowtime":"linear-gradient(to bottom, #ff595e, #ff595e, #ff595e)","yellow-flowtime":"linear-gradient(to bottom, #ffca3a, #ffca3a, #ffca3a)","blue-flowtime":"linear-gradient(to bottom, #1982c4, #1982c4, #1982c4)","purple-flowtime":"linear-gradient(to bottom, #6a4c93, #6a4c93, #6a4c93)","black-flowtime":"linear-gradient(to bottom, #202020, #202020, #202020)"},Uo={"blue-default":"linear-gradient(to bottom, #3b8fe3, #1d60a3, #7f04c7)","red-chilltime":"linear-gradient(to bottom, #ff595e, #ff595e, #ff595e)","yellow-chilltime":"linear-gradient(to bottom, #ffca3a, #ffca3a, #ffca3a)","green-chilltime":"linear-gradient(to bottom, #5dd44d, #5dd44d, #5dd44d)","purple-chilltime":"linear-gradient(to bottom, #6a4c93, #6a4c93, #6a4c93)","black-chilltime":"linear-gradient(to bottom, #202020, #202020, #202020)"},k={flowtime:"linear-gradient(to bottom, #5dd44d, #50b350, #004400)",chilltime:"linear-gradient(to bottom, #3b8fe3, #1d60a3, #7f04c7)"},Xo={flowtime:null,chilltime:null},S={flowtime:"green-default",chilltime:"blue-default"},B={msPerHour:36e5,msPerMin:6e4,msPerSec:1e3};let T={main:null,total:null,local:null,suggestion:null,chillTimeBreak:null,pomodoro:null},E={hyperFocus:void 0,chillTime:void 0,local:void 0,beginning:void 0,lastPomNotification:void 0,lastFlowmodoroNotification:0,lastBreakSuggestionNotification:0},P={displayTime:null,pomodorosCompleted:null,hyperFocusElapsedTime:null,localStartTime:null},Jo={displayTime:null,pomodorosCompleted:null,hyperFocusElapsedTime:null,localStartTime:null},b=null,C=[5,8,10,15],x=null,N=[25,5,15];let F={hyperFocus:0,chillTime:0,suggestionSeconds:0,flowmodoroNotificationSeconds:0,lastHyperFocusIntervalMin:0,pomodoroNotificationSeconds:0},A={pomodoro:.5,flowmodoro:.5,general:.5},M={pomodoro:"none",flowmodoro:"none",general:"none"};const Ko={NoAlert:null,Chime:y,Bell:v};Lo=[{radios:Lo,type:"flowmodoro"},{radios:Wo,type:"general"},{radios:Ro,type:"pomodoro"}];let D={startStop:0,interruptions:0,currentFlowmodoroNotification:0,currentFlowmodoroBreakIndex:0,currentPomodoroNotification:0,currentPomodoroIntervalIndex:0,currentPomodoroIntervalOrderIndex:0,pomodorosCompleted:0},L={hitTarget:!(savedInterruptionsArr=[]),submittedTarget:!1,inHyperFocus:!1,targetReachedToggle:!1,breakSuggestionToggle:!1,submittedSuggestionMinutes:!1,transitionClockSoundToggle:!1,flowmodoroNotificationToggle:!1,progressBarContainerIsSmall:!1,flowmodoroThumbIsDragging:!1,autoStartFlowTimeInterval:!1,autoStartChillTimeInterval:!1,showingPomodoroNotificationInfoWindow:!1,showingFlowmodoroNotificationInfoWindow:!1,showingFlowTimeBreakNotificationInfoWindow:!1,generalThumbIsDragging:!1,pomodoroThumbIsDragging:!1,flowmodoroThumbIsDragging2:!1,generalThumbIsDragging2:!1,pomodoroThumbIsDragging2:!1,pomodoroNotificationToggle:!1,autoStartPomodoroInterval:!1,autoStartBreakInterval:!1,autoSwitchedModes:!1,inRecoveryBreak:!1,inRecoveryPom:!1,flowTimeAnimationToggle:!0,chillTimeAnimationToggle:!0,darkThemeActivated:!1,modeChangeExecuted:!1,sentFlowmodoroNotification:!1,sentSuggestionMinutesNotification:!1};tempStorage={lastSettingsSelectionId:"pomodoroBtnContainer"};const o={pomodoroBtnContainer:"pomodoroSettingsContainer",flowmodoroBtnContainer:"flowmodoroSettingsContainer",generalBtnContainer:"generalSettingsContainer",backgroundsBtnContainer:"backgroundsSettingsContainer",soundsBtnContainer:"soundsSettingsContainer",accountBtnContainer:"accountSettingsContainer",supportAndFeedbackBtnContainer:"supportAndFeedbackSettingsContainer"};setInitialEndSessionBtnText(Go,W),document.addEventListener("keydown",o=>handleEnter(o,i,O,$o,L)),i.addEventListener("click",function(){var o;D.startStop++,playClick(jo,L),resetDisplay(R),1===D.startStop?(veryStartActions(E,qo,e,L),E.lastPomNotification=Date.now()):chillTimeToFirstPomodoro(L,t,D),setLocalStartTime(L,E,P,Jo),displayWorker.postMessage("clearInterval"),displayWorker.postMessage("startInterval"),T.main?(L.inHyperFocus=!1,L.lastHyperFocusIntervalMin=Math.floor((Date.now()-E.hyperFocus)/6e4),E.chillTime=Date.now(),setFavicon("/images/logo/HyperChillLogoBlue.png"),chillTimeAnimationActions(L,h,w),saveResetInterruptions(n,D,savedInterruptionsArr),hideInterruptionsSubContainer(_),setBackground(k.chilltime),L.inRecoveryBreak&&(F.hyperFocus=P.hyperFocusElapsedTime),o=F.hyperFocus,F.hyperFocus+=Date.now()-E.hyperFocus,setCurrentPomodoroNotification(D,N),L.pomodoroNotificationToggle?(showPomodorosCompletedContainer(m,$,z,D),setHyperFocusElapsedTime(o,N,D,L,F),recoverToBreakUpdateProgressBarAndTotalElapsed(L,b,E,F,d,l),setPomodoroNotificationSeconds(L,F,D,P,pomodoroWorker),setButtonTextAndMode(i,t,L,"Start",setBothBreakIntervalText(D,N))):(showSuggestionBreakContainer(r,s,c,C,D,L),setButtonTextAndMode(i,t,L,"Start","Chill Time")),totalTimeDisplay(E,F,a,B,L,b),flowmodoroAndBreakSuggestionActions(L,F,D,x,flowmodoroWorker,suggestionWorker),clearInterval(T.main),T.main=null,totalDisplayWorker.postMessage("clearInterval")):(L.inHyperFocus=!0,L.sentFlowmodoroNotification=!1,E.hyperFocus=Date.now(),totalDisplayWorker.postMessage("startInterval"),setFavicon("/images/logo/HyperChillLogoGreen.png"),flowTimeAnimationActions(D,L,w,h),hideSuggestionBreakContainer(r,s,c),hidePomodorosCompletedContainer(m),showInterruptionsSubContainer(_),setCurrentPomodoroNotification(D,N),setBackground(k.flowtime),flowmodoroAndBreakSuggestionActions(L,F,D,x,flowmodoroWorker,suggestionWorker),T.main=setInterval(()=>updateProgressBar(b,E,F,L,d,l),1e3),L.pomodoroNotificationToggle?(setButtonTextAndMode(i,t,L,"Stop",setPomodoroIntervalText(D,N)),setPomodoroWorker(L,F,D,Jo,pomodoroWorker)):setButtonTextAndMode(i,t,L,"Stop","Flow Time"),1<D.startStop&&(F.chillTime+=Date.now()-E.chillTime)),L.inRecoveryBreak=!1,L.inRecoveryPom=!1,L.sentSuggestionMinutesNotification=!1,L.autoSwitchedModes=!1,setTimeout(()=>{L.modeChangeExecuted=!1},1e3)}),O.addEventListener("click",function(){var o;L.submittedTarget?L.submittedTarget&&(L.hitTarget&&l.classList.remove("glowing-effect"),changeTargetHours(L),updateProgressBar(b,E,F,L,d,l),totalTimeDisplay(E,F,a,B,L,b),0<D.startStop)&&(L.progressBarContainerIsSmall||(e.classList.toggle("small"),L.progressBarContainerIsSmall=!0)):targetHoursValidate(o=document.getElementById("target-hours").value,B,E,F,L,D)&&(L.hitTarget&&l.classList.remove("glowing-effect"),b=replaceTargetHours(o,b,L),L.progressBarContainerIsSmall&&(e.classList.toggle("small"),L.progressBarContainerIsSmall=!1),updateProgressBar(b,E,F,L,d,l),totalTimeDisplay(E,F,a,B,L,b),L.hitTarget=!1)}),g.addEventListener("change",function(){var o=g.value,o=validateAndSetNotificationInput(x=Math.round(parseFloat(o)));g.value=o,L.breakSuggestionToggle&&setSuggestionMinutes(E,L,F,o,T,M,A,y,v,i)}),j.addEventListener("click",function(){0<D.interruptions&&(D.interruptions--,n.textContent=D.interruptions)}),q.addEventListener("click",function(){D.interruptions<1e3&&(D.interruptions++,n.textContent=D.interruptions)});for(const[Qo,Zo]of Object.entries(o))document.getElementById(Qo).addEventListener("click",function(){hideAllSettingsContainers(o),document.getElementById(Zo).style.display="block",this.classList.add("selected"),tempStorage.lastSettingsSelectionId=Qo});zo&&(document.getElementById("notificationsHeaderContainer").style.display="none",document.getElementById("pomodoroBtnContainer").style.display="none",document.getElementById("flowmodoroBtnContainer").style.display="none",document.getElementById("generalBtnContainer").style.display="none",document.getElementById("pomodoroSettingsContainer").style.display="none",document.getElementById("flowmodoroSettingsContainer").style.display="none",document.getElementById("generalSettingsContainer").style.display="none",document.getElementById("pomodoroAlertSoundBlock2").style.display="none",document.getElementById("flowmodoroAlertSoundBlock2").style.display="none",document.getElementById("generalAlertSoundBlock2").style.display="none",tempStorage.lastSettingsSelectionId="backgroundsBtnContainer"),ao.addEventListener("click",function(){toggleInfoWindow(lo,"showingPomodoroNotificationInfoWindow",L)}),to.addEventListener("click",function(){toggleInfoWindow(no,"showingFlowmodoroNotificationInfoWindow",L)}),ro.addEventListener("click",function(){toggleInfoWindow(io,"showingFlowTimeBreakNotificationInfoWindow",L)}),So.addEventListener("mousedown",o=>{L.flowmodoroThumbIsDragging=!0,o.preventDefault()}),Eo.addEventListener("mousedown",o=>{L.generalThumbIsDragging=!0,o.preventDefault()}),I.addEventListener("mousedown",o=>{L.pomodoroThumbIsDragging=!0,o.preventDefault()}),Fo.addEventListener("mousedown",o=>{L.flowmodoroThumbIsDragging2=!0,o.preventDefault()}),Do.addEventListener("mousedown",o=>{L.generalThumbIsDragging2=!0,o.preventDefault()}),Co.addEventListener("mousedown",o=>{L.pomodoroThumbIsDragging2=!0,o.preventDefault()}),document.addEventListener("mousemove",o=>{L.flowmodoroThumbIsDragging?alertVolumeChange(wo,A,So,ko,Fo,No,o,L):L.flowmodoroThumbIsDragging2?alertVolumeChange(xo,A,So,ko,Fo,No,o,L):L.generalThumbIsDragging?alertVolumeChange(Bo,A,Eo,To,Do,Mo,o,L):L.generalThumbIsDragging2?alertVolumeChange(Ao,A,Eo,To,Do,Mo,o,L):L.pomodoroThumbIsDragging?alertVolumeChange(vo,A,I,ho,Co,bo,o,L):L.pomodoroThumbIsDragging2&&alertVolumeChange(Po,A,I,ho,Co,bo,o,L)}),document.addEventListener("mouseup",o=>{L.flowmodoroThumbIsDragging||L.flowmodoroThumbIsDragging2?("chime"===M.flowmodoro?(pauseAndResetAlertSounds(v,y),playAlertSound(y,"flowmodoro",A)):"bell"===M.flowmodoro&&(pauseAndResetAlertSounds(v,y),playAlertSound(v,"flowmodoro",A)),L.flowmodoroThumbIsDragging=!1,L.flowmodoroThumbIsDragging2=!1):L.generalThumbIsDragging||L.generalThumbIsDragging2?("chime"===M.general?(pauseAndResetAlertSounds(v,y),playAlertSound(y,"general",A)):"bell"===M.general&&(pauseAndResetAlertSounds(v,y),playAlertSound(v,"general",A)),L.generalThumbIsDragging=!1,L.generalThumbIsDragging2=!1):L.pomodoroThumbIsDragging||L.pomodoroThumbIsDragging2?("chime"===M.pomodoro?(pauseAndResetAlertSounds(v,y),playAlertSound(y,"pomodoro",A)):"bell"===M.pomodoro&&(pauseAndResetAlertSounds(v,y),playAlertSound(v,"pomodoro",A)),L.pomodoroThumbIsDragging=!1,L.pomodoroThumbIsDragging2=!1):"flowmodoroAlert"!==o.target.className&&"generalAlert"!==o.target.className&&"pomodoroAlert"!==o.target.className&&"volume-thumb"!==o.target.className&&"block"===document.getElementById("settingsContainer").style.display&&pauseAndResetAlertSounds(v,y)}),Oo.forEach(o=>{o.addEventListener("change",function(o){var e=validateAndSetNotificationInput(Math.round(o.target.value));document.getElementById(o.target.id).value=e,setBreakTimeSuggestionsArr(o,C,e,D),setCurrentFlowmodoroNotification(L,D,C),0===D.startStop||L.inHyperFocus?F.flowmodoroNotificationSeconds=60*D.currentFlowmodoroNotification:(secondsPassed=Math.round((Date.now()-E.chillTime)/1e3),F.flowmodoroNotificationSeconds=60*D.currentFlowmodoroNotification-secondsPassed,flowmodoroWorker.postMessage("clearInterval"),flowmodoroWorker.postMessage(F.flowmodoroNotificationSeconds)),c.textContent=D.currentFlowmodoroNotification+" min"})}),Ho.forEach(o=>{o.addEventListener("change",function(o){var e=validateAndSetNotificationInput(Math.round(o.target.value));document.getElementById(o.target.id).value=e,secondsPassed=L.inHyperFocus?Math.round((Date.now()-E.hyperFocus)/1e3):Math.round((Date.now()-E.chillTime)/1e3),setPomodoroIntervalArr(o,N,e,D,t,L),setCurrentPomodoroNotification(D,N),0===D.startStop?F.pomodoroNotificationSeconds=60*D.currentPomodoroNotification:L.pomodoroNotificationToggle&&(F.pomodoroNotificationSeconds=60*D.currentPomodoroNotification-secondsPassed,pomodoroWorker.postMessage("clearInterval"),pomodoroWorker.postMessage(F.pomodoroNotificationSeconds)),c.textContent=D.currentPomodoroNotification+" min"})}),Lo.forEach(e=>{e.radios.forEach(o=>{o.addEventListener("change",o=>handleRadioChange(o,e.type,Ko,v,y,M,A))})}),Vo.forEach(o=>{o.addEventListener("click",function(o){var e=o.target.id,t=S.flowtime;document.getElementById(t).classList.remove("selected-background"),k.flowtime=Yo[e],S.flowtime=e,document.getElementById(o.target.id).classList.add("selected-background"),L.inHyperFocus&&setBackground(k.flowtime)})}),_o.forEach(o=>{o.addEventListener("click",function(o){var e=o.target.id,t=S.chilltime;document.getElementById(t).classList.remove("selected-background"),k.chilltime=Uo[e],S.chilltime=e,document.getElementById(o.target.id).classList.add("selected-background"),L.inHyperFocus||setBackground(k.chilltime)})}),eo.addEventListener("click",function(){eo.checked?L.targetReachedToggle=!0:L.targetReachedToggle=!1}),u.addEventListener("click",function(){u.checked?(enableNotifications(u,f,p,L),L.breakSuggestionToggle=!0,L.inHyperFocus?setButtonTextAndMode(i,t,L,"Stop","Flow Time"):setButtonTextAndMode(i,t,L,"Start","Chill Time"),resetPomodoroCounters(D),p.checked&&p.click(),x=g.value,setSuggestionMinutes(E,L,F,x,T,M,A,y,v,i)):suggestionWorker.postMessage("clearInterval")}),f.addEventListener("click",function(){var o;f.checked?(enableNotifications(u,f,p,L),resetPomodoroCounters(D),p.checked&&p.click(),o=Math.floor((Date.now()-E.chillTime)/1e3),L.inHyperFocus||0===D.startStop||(F.flowmodoroNotificationSeconds=60*D.currentFlowmodoroNotification-o,flowmodoroWorker.postMessage("clearInterval"),flowmodoroWorker.postMessage(F.flowmodoroNotificationSeconds)),L.flowmodoroNotificationToggle=!0):(L.flowmodoroNotificationToggle=!1,flowmodoroWorker.postMessage("clearInterval")),changeSuggestionBreakContainerHeader(L,s,c,D)}),p.addEventListener("click",function(){var o,e;p.checked?(enableNotifications(u,f,p,L),resetPomodoroCounters(D),f.checked&&f.click(),u.checked&&u.click(),o=Math.floor((Date.now()-E.hyperFocus)/1e3),L.inHyperFocus&&(e="Pomodoro #1 | "+N[0].toString()+" min",setButtonTextAndMode(i,t,L,"Stop",e),F.pomodoroNotificationSeconds=60*D.currentPomodoroNotification-o,pomodoroWorker.postMessage(F.pomodoroNotificationSeconds)),L.pomodoroNotificationToggle=!0):(L.pomodoroNotificationToggle=!1,pomodoroWorker.postMessage("clearInterval"),L.inHyperFocus?setButtonTextAndMode(i,t,L,"Stop","Flow Time"):1<D.startStop&&(setButtonTextAndMode(i,t,L,"Start","Chill Time"),hidePomodorosCompletedContainer(m),showSuggestionBreakContainer(r,s,c,C,D,L))),changeSuggestionBreakContainerHeader(L,s,c,D)}),so.addEventListener("click",function(){L.autoStartPomodoroInterval?L.autoStartPomodoroInterval&&(L.autoStartPomodoroInterval=!1):(L.autoStartPomodoroInterval=!0,L.modeChangeExecuted=!1)}),co.addEventListener("click",function(){L.autoStartBreakInterval?L.autoStartBreakInterval&&(L.autoStartBreakInterval=!1):(L.autoStartBreakInterval=!0,L.modeChangeExecuted=!1)}),po.addEventListener("click",function(){po.checked?L.transitionClockSoundToggle=!0:L.transitionClockSoundToggle=!1}),Io.addEventListener("click",function(){Io.checked?(L.flowTimeAnimationToggle=!0,L.inHyperFocus&&animationsFadeIn(h,"block")):(L.flowTimeAnimationToggle=!1,L.inHyperFocus&&animationsFadeOut(h))}),yo.addEventListener("click",function(){yo.checked?(L.chillTimeAnimationToggle=!0,L.inHyperFocus||animationsFadeIn(w,"flex")):(L.chillTimeAnimationToggle=!1,L.inHyperFocus||animationsFadeOut(w))}),mo.addEventListener("click",function(){fo.classList.remove("selected-background"),uo.classList.add("selected-background"),L.darkThemeActivated=!1,deactivateDarkTheme(V,G,Y,e,U,X,J,K,Q,Xo,S)}),go.addEventListener("click",function(){uo.classList.remove("selected-background"),fo.classList.add("selected-background"),L.darkThemeActivated=!0,activateDarkTheme(V,G,Y,e,U,X,J,K,Q,Z,oo,Xo,S)}),window.addEventListener("resize",handleViewportWidthChange(o,tempStorage,zo)),window.addEventListener("resize",function(){handleViewportWidthChange(o,tempStorage,zo)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?L.inHyperFocus?(h.classList.remove("intoOpacityTransition"),h.style.display="none"):(w.classList.remove("intoOpacityTransition"),w.style.display="none"):"visible"===document.visibilityState&&(L.inHyperFocus?setTimeout(()=>{h.style.display="block",h.classList.add("intoOpacityTransition")},500):0<D.startStop&&setTimeout(()=>{w.style.display="flex",w.classList.add("intoOpacityTransition")},500))}),H.addEventListener("click",function(){alert("This feature is currently under development. Thank you for your patience.")}),W.addEventListener("click",function(){location.reload()}),pomodoroWorker.onmessage=function(o){!L.modeChangeExecuted&&(L.modeChangeExecuted=!0,new Notification(getPomodoroNotificationString(D,N)),playAlertSoundCountdown(y,v,M.pomodoro,A.pomodoro),0===D.currentPomodoroIntervalIndex&&D.pomodorosCompleted++,E.lastPomNotification=Date.now(),L.inHyperFocus&&L.autoStartBreakInterval||!L.inHyperFocus&&L.autoStartPomodoroInterval)&&setTimeout(()=>{L.autoSwitchedModes=!0,i.click()},0)},suggestionWorker.onmessage=function(o){L.sentSuggestionMinutesNotification||(sendSuggestionBreakNotification(x,E,y,v,M,A),L.sentSuggestionMinutesNotification=!0)},flowmodoroWorker.onmessage=function(o){L.sentFlowmodoroNotification||(sendFlowmodoroNotification(C,D,E,y,v,M,A),L.sentFlowmodoroNotification=!0)},displayWorker.onmessage=function(o){var e=Date.now()-E.local;let t=Math.floor(e/B.msPerHour),n=Math.floor((e-t*B.msPerHour)/B.msPerMin),r=Math.floor((e-t*B.msPerHour-n*B.msPerMin)/B.msPerSec);t=t.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),r=r.toString().padStart(2,"0"),R.textContent=`${t}:${n}:`+r,timeRecovery(L,D,E,F,N,i,Jo,P,b,a,B,d,l,y,v,M,A,$,z,flowmodoroWorker,C,suggestionWorker,x)},totalDisplayWorker.onmessage=function(o){totalTimeDisplay(E,F,a,B,L,b)}});