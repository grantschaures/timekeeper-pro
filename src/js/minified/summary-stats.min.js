import{totalDeepWorkSummaryStat as e,avgDeepWorkSummaryStat as t,avgFocusQualitySummaryStat as r,avgIntervalLengthSummaryStat as n,mostFocusedHourSummaryStat as o}from"../modules/dashboard-elements.js";import{timeConvert as i}from"../modules/index-objects.js";import{constants as m}from"../modules/dashboard-objects.js";import{initializeHourlyData as s}from"../utility/adv-charts.js";let p=m.FOCUS_QUALITY_CONSTANT;function populateDashboardSummaryStats(m,a,t){let e=0,r=0,n=[];if(0<a.length){for(let m=0;m<a.length;m++)e+=a[m].deepWorkTime,r+=a[m].distractions,a[m].deepWorkIntervals.forEach(m=>{n.push(m)});c(d(m,e),a),f(e,r),l(m,n),u(t)}else h()}async function u(m){var a=await s(m);let t=0,e=0;for(let m=0;m<a.length;m++)a[m]>t&&(t=a[m],e=m);m=["12am-1am","1am-2am","2am-3am","3am-4am","4am-5am","5am-6am","6am-7am","7am-8am","8am-9am","9am-10am","10am-11am","11am-12pm","12pm-1pm","1pm-2pm","2pm-3pm","3pm-4pm","4pm-5pm","5pm-6pm","6pm-7pm","7pm-8pm","8pm-9pm","9pm-10pm","10pm-11pm","11pm-12am"][e];0!==t&&m?o.innerText=m:o.innerText="N/A"}function l(m,a){a=a.reduce((m,a)=>m+a,0)/a.length/m.msPerHour,m=Math.floor(a),a=Math.round(60*(a-m));n.innerText=m+"h "+a+"m"}function h(){e.innerText="0h 0m",t.innerText="N/A",r.innerText="N/A",n.innerText="N/A",o.innerText="N/A"}function f(m,a){let t=1-a/(60*(m/i.msPerHour))/p;t<0?t=0:isNaN(t)&&(t=1);a=Math.floor(100*t);r.innerText=a+"%"}function c(m,a){m/=a.length,a=Math.floor(m),m=Math.round(60*(m-a));t.innerText=a+"h "+m+"m"}function d(m,a){a/=m.msPerHour;var m=Math.floor(a),t=Math.round(60*(a-m));return e.innerText=m+"h "+t+"m",a}export{populateDashboardSummaryStats};