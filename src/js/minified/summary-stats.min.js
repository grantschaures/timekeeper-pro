import{totalDeepWorkSummaryStat as r,avgDeepWorkSummaryStat as t,avgFocusQualitySummaryStat as a,avgIntervalLengthSummaryStat as o,mostFocusedHourSummaryStat as p}from"../modules/dashboard-elements.js";import{timeConvert as n}from"../modules/index-objects.js";let i=.5;function populateDashboardSummaryStats(e,m,t){let r=0,a=0,o=[];if(0<m.length){for(let e=0;e<m.length;e++)r+=m[e].deepWorkTime,a+=m[e].distractions,m[e].deepWorkIntervals.forEach(e=>{o.push(e)});f(d(e,r),m),h(r,a),s(e,o),u(t)}else l()}function u(m){let t=0,r;for(let e=0;e<24;e++){var a,o=m.hourlyArr[e],n=o.focusQualities.reduce((e,m)=>e+m,0)/o.focusQualities.length;(n>t||n==t&&(a=m.hourlyArr[r]).deepWorkTimes.reduce((e,m)=>e+m,0)/a.deepWorkTimes.length<o.deepWorkTimes.reduce((e,m)=>e+m,0)/o.deepWorkTimes.length)&&(t=n,r=e)}var e=["12am-1am","1am-2am","2am-3am","3am-4am","4am-5am","5am-6am","6am-7am","7am-8am","8am-9am","9am-10am","10am-11am","11am-12pm","12pm-1pm","1pm-2pm","2pm-3pm","3pm-4pm","4pm-5pm","5pm-6pm","6pm-7pm","7pm-8pm","8pm-9pm","9pm-10pm","10pm-11pm","11pm-12am"][r];p.innerText=e}function s(e,m){m=m.reduce((e,m)=>e+m,0)/m.length/e.msPerHour,e=Math.floor(m),m=Math.round(60*(m-e));o.innerText=e+"h "+m+"m"}function l(){r.innerText="0h 0m",t.innerText="N/A",a.innerText="N/A",o.innerText="N/A",p.innerText="N/A"}function h(e,m){let t=1-m/(60*(e/n.msPerHour))/i;t<0?t=0:isNaN(t)&&(t=1);m=Math.floor(100*t);a.innerText=m+"%"}function f(e,m){e/=m.length,m=Math.floor(e),e=Math.floor(60*(e-m));t.innerText=m+"h "+e+"m"}function d(e,m){m/=e.msPerHour;var e=Math.floor(m),t=Math.round(60*(m-e));return r.innerText=e+"h "+t+"m",m}export{populateDashboardSummaryStats};