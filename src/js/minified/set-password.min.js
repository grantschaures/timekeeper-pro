function r(e){e={length:8<=e.length,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/[0-9]/.test(e),specialChar:/[\!\@\#\$\%\^\&\*\(\)\-\+\=\{\}\[\]\:\;\"\'\<\>\,\.\?\/\~\|\ \\]/.test(e)};return{isValid:Object.values(e).every(e=>e),rules:e}}function o(e,t){return e.value===t.value}function l(){document.getElementById("setNewPasswordWindow").style.display="none",document.getElementById("accountVerifiedWindow").style.display="flex",setTimeout(()=>{document.getElementById("accountVerifiedWindow").style.opacity="1"},10)}addEventListener("DOMContentLoaded",function(){let n=document.getElementById("passwordInputSignup"),s=document.getElementById("confirmPasswordInputSignup");document.getElementById("setNewPasswordSubmitBtn").addEventListener("click",async function(){var t=r(n.value);if(t.isValid)if(o(n,s)){var e=window.location.pathname.split("/").pop(),e={password:n.value,token:e};try{var a=await fetch("/api/api/verifyPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});a.ok?l():alert("There was a problem with setting your password. Please try again.")}catch(e){alert("An error occurred. Please try again.")}}else alert("Please ensure both your passwords match and try again.");else{let e="Invalid Password. Please make sure your password meets the following criteria:";t.rules.length||(e+="\n - At least 8 characters"),t.rules.uppercase||(e+="\n - Contains at least one uppercase letter"),t.rules.lowercase||(e+="\n - Contains at least one lowercase letter"),t.rules.number||(e+="\n - Contains at least one number"),t.rules.specialChar||(e+="\n - Contains at least one special character"),alert(e)}})});