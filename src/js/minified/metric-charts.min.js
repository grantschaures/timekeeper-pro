import{adjustedDeepWorkToggle as e,advChartsContainer as t,advChartsCoverModule as F,chartHeaders as P,deepWorkHeaderText as i,HC_icon_metric_charts as s,labelDistributionContainer as a,leftMetricDistributionArrow as Q,metricCharts as n,mainChartsContainer as r,mainChartsCoverModule as O,metricBodyContainers as Y,metricChartsHr as o,metricDistributionArrows as l,metricDistributionBackBtn as d,metricDistributionContainer as c,metricDistributionCoverContainer as m,metricDistributionMonth as y,metricDistributionSelections as u,metricDistributionSubContainer as p,metricDistributionTimeFrame as h,metricDistributionWeek as v,metricDistributionYear as T,rightMetricDistributionArrow as g,rightMetricDistributionArrowGray as C,breakIntervalToggle as x,distractionsToggle as E,avgDeepWorkHeaderText as f,hourlyQualityAdjustedToggle as D,mainChartsSummary as k,mainChartsSummaryContainer as b,mainChartsSummarySubContainer as L,summaryDeepWorkTimeTitle as _,summaryAvgDeepWorkTimeTitle as q,summaryAvgAdjustedDeepWorkTimeTitle as w,summaryAvgDeepWorkIntervalTitle as z}from"../modules/dashboard-elements.js";import{sessionState as G}from"../modules/state-objects.js";import{flags as S,general as A,labelDistContainer as M,mainChartContainer as W}from"../modules/dashboard-objects.js";import{setBounds as j,alterBounds as B,displayTimeFrame as U}from"./label-distribution.js";function setMetricCharts(){j(W,h,g,C),S.metricDistributionContainerExpanded&&(document.dispatchEvent(new Event("displayMainCharts")),document.dispatchEvent(new Event("displayAdvCharts")))}function H(){window.innerWidth<=1385?(v.innerText="W",y.innerText="M",T.innerText="Y"):(v.innerText="Week",y.innerText="Month",T.innerText="Year"),window.innerWidth<=1265?(h.style.display="none",k.innerText="S"):(h.style.display="flex",k.innerText="Summary"),window.innerWidth<=1065?w.innerText="Avg Per Day (QA):":w.innerText="Avg Per Day (Quality Adjusted):"}function I(e){var t;M.resetInProgress||(K(e),H(),m.style.opacity="0",m.style.display="none",p.style.display="flex",setTimeout(()=>{p.style.opacity="1"},0),t=a.scrollHeight+"px",a.style.height=t,a.offsetHeight,M.height=a.scrollHeight+"px",a.style.height="0%",a.style.padding="0px",a.style.marginTop="0px",a.style.opacity="0",c.style.marginBottom="0px",c.classList.add("expanded"),S.metricDistributionContainerExpanded=!0,d.classList.add("resetBounce"),setTimeout(()=>{s.style.opacity="0"},250),setTimeout(()=>{n.forEach(e=>{e.style.display="flex",setTimeout(()=>{e.style.opacity="1"},0)}),o.forEach(e=>{e.style.width="100%",e.style.opacity="1"}),e===r?(S.summarySelected?(b.style.display="flex",L.style.opacity="1"):e.style.display="flex",mainChartsDivisionHr.style.display="flex",S.mainChartsOpen=!0,document.dispatchEvent(new Event("displayMainCharts"))):(A.lastMainChartTransition=A.chartTransition,A.chartTransition="all",e.style.display="flex",S.advChartsOpen=!0,document.dispatchEvent(new Event("displayAdvCharts")))},500))}function J(){M.resetInProgress=!0,S.advChartsOpen&&(A.chartTransition=A.lastMainChartTransition),S.advChartsOpen=!1,S.mainChartsOpen=!1,p.style.opacity="0",p.style.display="none",m.style.display="flex",setTimeout(()=>{m.style.opacity="1"},0),a.style.height=M.height,setTimeout(()=>{a.style.height="auto",M.resetInProgress=!1},500),a.style.padding="15px",a.style.marginTop="10px",a.style.opacity="1",c.style.marginBottom="10px",c.classList.remove("expanded"),S.metricDistributionContainerExpanded=!1,Y.forEach(e=>{e.style.display="none"}),u.style.display="none",l.style.display="none",k.style.display="none",h.style.display="none",S.quickerChartAnimations=!1,n.forEach(e=>{e.style.display="none",setTimeout(()=>{e.style.opacity="0"},0),s.style.opacity="1"}),o.forEach(e=>{e.style.width="0%",e.style.opacity="0"}),mainChartsDivisionHr.style.display="none"}function K(e){"mainChartsContainer"===e.id&&(u.style.display="flex",l.style.display="flex",k.style.display="flex",h.style.display="flex")}document.addEventListener("stateUpdated",function(){G.loggedIn&&(O.addEventListener("click",function(){U(W,h),I(r)}),F.addEventListener("click",function(){h.innerText="All Time",I(t)}),d.addEventListener("mouseover",function(){d.classList.remove("resetBounce"),d.classList.add("triggerBounceLeft")}),d.addEventListener("mouseout",function(){d.classList.remove("TriggerBounceLeft"),d.classList.add("resetBounce")}),d.addEventListener("click",function(e){e.stopPropagation(),J()}),e.addEventListener("click",function(){e.checked?(S.adjustedDeepWorkToggle=!0,i.innerText="Adjusted Deep Work"):(S.adjustedDeepWorkToggle=!1,i.innerText="Deep Work"),A.chartTransition="main-adjusted",document.dispatchEvent(new Event("displayMainCharts"))}),x.addEventListener("click",function(){x.checked?(S.avgBreakIntervalToggle=!0,avgIntervalHeaderText.innerText="Avg Break Interval"):(S.avgBreakIntervalToggle=!1,avgIntervalHeaderText.innerText="Avg Deep Work Interval"),A.chartTransition="main-break",document.dispatchEvent(new Event("displayMainCharts"))}),E.addEventListener("click",function(){E.checked?(S.distractionsToggle=!0,hourlyFocusHeaderText.innerText="Avg Distractions"):(S.distractionsToggle=!1,hourlyFocusHeaderText.innerText="Focus Quality"),A.chartTransition="adv-distractions",document.dispatchEvent(new Event("displayAdvCharts"))}),D.addEventListener("click",function(){D.checked?(S.hourlyQualityAdjustedToggle=!0,f.innerText="Adjusted Avg Deep Work"):(S.hourlyQualityAdjustedToggle=!1,f.innerText="Avg Deep Work"),A.chartTransition="adv-adjusted",document.dispatchEvent(new Event("displayAdvCharts"))}),v.addEventListener("click",function(){v.classList.add("metricDistributionSelected"),y.classList.remove("metricDistributionSelected"),T.classList.remove("metricDistributionSelected"),W.timeFrame="week",j(W,h,g,C),S.summarySelected?A.chartTransition="summary":A.chartTransition="all",document.dispatchEvent(new Event("displayMainCharts"))}),y.addEventListener("click",function(){y.classList.add("metricDistributionSelected"),v.classList.remove("metricDistributionSelected"),T.classList.remove("metricDistributionSelected"),W.timeFrame="month",j(W,h,g,C),S.summarySelected?A.chartTransition="summary":A.chartTransition="all",document.dispatchEvent(new Event("displayMainCharts"))}),T.addEventListener("click",function(){T.classList.add("metricDistributionSelected"),v.classList.remove("metricDistributionSelected"),y.classList.remove("metricDistributionSelected"),W.timeFrame="year",j(W,h,g,C),S.summarySelected?A.chartTransition="summary":A.chartTransition="all",document.dispatchEvent(new Event("displayMainCharts"))}),k.addEventListener("click",function(){S.summarySelected?(S.summarySelected=!1,k.classList.remove("summarySelected"),r.style.display="flex",b.style.display="none",L.style.opacity="0",A.chartTransition="all"):(S.summarySelected=!0,k.classList.add("summarySelected"),r.style.display="none",b.style.display="flex",setTimeout(()=>{L.style.opacity="1"},0),A.chartTransition="summary"),document.dispatchEvent(new Event("displayMainCharts"))}),Q.addEventListener("click",function(){B("shiftdown",W,h,g,C),S.summarySelected?A.chartTransition="summary":A.chartTransition="all",document.dispatchEvent(new Event("displayMainCharts"))}),g.addEventListener("click",function(){B("shiftup",W,h,g,C),S.summarySelected?A.chartTransition="summary":A.chartTransition="all",document.dispatchEvent(new Event("displayMainCharts"))})),window.addEventListener("resize",H)});export{setMetricCharts};