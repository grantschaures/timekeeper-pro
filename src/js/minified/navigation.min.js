import{menuBtn as n,popupMenu as e,blogBtn as W,blog_icon as A,about_btn as j,about_icon as O,about_menu_container as o,settings_btn as R,settings_icon as Y,settings_menu_container as D,logInOut_btn as H,login_icon as Q,login_menu_container as F,about_exit as s,blog_exit as i,blog_post_exit as U,blog_post_back as G,back_icons as N,exit_icons as V,main_elements as t,aboutContainer as a,blogContainer as l,settingsContainer as c,blog_post_container as d,blog_cells as q,blogs as u,settings_exit as X,pomodoroBtnContainer as z,backgroundsBtnContainer as $,start_stop_btn as J,reportIcon as K,reportPath as Z,spaceIcon as tt,homeIcon as et,blogMenuContainer as r,aboutIconNotes as nt,body as p,isMobile as y,popupOverlay as g,questionIcon as m,popupQuestionMenu as h,privacyPolicyContainer as ot,termsAndConditionsContainer as st,loginQuestionMenuContainer as it,accountPopup as f,deleteAccountPopup as at,goBackBtn as lt,deleteAccountPopupNoBtn as ct,deleteAccountPopupYesBtn as dt,deleteAccountBtn as rt,spaceContainer as w,shortcutsContainer as ut,shortcutsPopup as b,shortcutsExit as pt,dashboardContainer as S,flowTimeAnimationToggle as yt,chillTimeAnimationToggle as gt,flowAnimation as mt,chillAnimation as ht,target_hours_input as ft,streaksContainer as v,threeWayToggle as wt,labelToDeleteContainer as bt,confirmLabelDeletionPopup as St,labelSelectionRow as vt,confirmLabelDeletionNoBtn as Lt,sessionSummaryOkBtn as Ct,sessionSummarySignupPromptPopup as kt,HC_icon_signup_prompt as Et,settingsGUIContainer as Tt,darkLightThemeGUIContainer as L,displayGUIContainer as C}from"../modules/dom-elements.js";import{blogIdList as Mt,flags as k,counters as xt,state as E}from"../modules/navigation-objects.js";import{sessionState as It}from"../modules/state-objects.js";import{dashboardCatIds as _t,flags as T,settingsMappings as Bt,tempCounters as Pt,tempStorage as Wt}from"../modules/index-objects.js";import{labelArrs as At,labelDict as jt,labelFlags as Ot,flags as M,selectedLabelDict as Rt}from"../modules/notes-objects.js";import{chimePath as Yt,bellPath as Dt,soundMap as Ht}from"../modules/sound-map.js";import{deleteUserAccount as Qt}from"../state/delete-account.js";import{animationsFadeIn as Ft,animationsFadeOut as Ut,handleViewportWidthChange as Gt,triggerSilentAlertAudioMobile as Nt}from"./index.js";function Vt(t){subMainContainer.style.display="none",document.getElementById(t)?(window.location.hash=t,d.scrollTo(0,0),closeBlogContainer(),d.style.display="block",k.blogShowing=!0,document.getElementById(t).classList.remove("hidden")):history.pushState({},"","/")}function qt(){closeBlogContainer(),closeAboutContainer(),ue(k,e),c.style.display="block",setTimeout(()=>{c.style.opacity="1"},0),"home"===E.lastSelectedMode&&(subMainContainer.style.display="flex",subMainContainer.offsetHeight,setTimeout(()=>{subMainContainer.style.opacity=1},0)),history.pushState({window:"settings"},"","/settings");var t=window.innerWidth||document.documentElement.clientWidth;0===xt.settingsBtnClicked&&650<t&&z.click(),Nt(Ht.Chime,Ht.Bell,Yt,Dt,T),k.settingsContainerShowing=!0,xt.settingsBtnClicked++,p.style.overflowY="hidden",X.classList.add("resetRotation")}function Xt(){subMainContainer.style.display="none",closeBlogContainer(),ue(k,e),k.blogShowing&&(d.style.display="none",hideBlog(u)),k.settingsContainerShowing&&le(),k.aboutContainerShowing=!0,a.style.display="flex",setTimeout(()=>{a.style.opacity="1"},0),x(v,y),x(L,y),x(C,y),history.pushState({window:"about"},"","/about"),p.style.overflowY="hidden",s.classList.add("resetRotation"),B("home"),subMainContainerTransition("none"),de(),P(S),P(w)}function zt(){k.blogContainerShowing=!0,subMainContainer.style.display="none",closeAboutContainer(),ue(k,e),k.blogShowing&&(d.style.display="none",hideBlog(u)),k.settingsContainerShowing&&le(),l.style.display="flex",setTimeout(()=>{l.style.opacity="1"},0),x(v,y),x(L,y),x(C,y),history.pushState({window:"blog"},"","/blog"),p.style.overflowY="hidden",i.classList.add("resetRotation"),B("home"),subMainContainerTransition("none"),de(),P(S),P(w)}function x(t,e){e||(t.style.display="flex",setTimeout(()=>{t.style.opacity=1},0))}function I(t){t.style.opacity=0,setTimeout(()=>{t.style.display="none"},250)}function _(){$t("scaleX(1.25)"),setTimeout(()=>{$t("scaleX(1)")},150)}function $t(t){let e=document.getElementById("pseudo-style");e||((e=document.createElement("style")).id="pseudo-style",document.head.appendChild(e)),e.innerHTML=`
        .dinkle-doink-mode::after {
            transform: ${t};
        }
    `}function Jt(t){var e=[M.noteTaskInputContainerShowing,M.noteTaskInputContainerEditShowing,M.createLabelWindowOpen,M.updateLabelWindowOpen,k.settingsContainerShowing,k.sessionSummaryPopupShowing,k.sessionSummarySignupPromptPopupShowing,!k.canToggleSwitch,"target-hours"===document.activeElement.id];k.allowToggleSwitch&&e.every(t=>!t)&&("ArrowLeft"===t.key?"space"===E.lastSelectedMode?(_(),hideDashboardCat(),x(v,y),x(L,y),x(C,y),B("home"),P(S),P(w),subMainContainerTransition("flex"),de()):"home"===E.lastSelectedMode&&(history.pushState({},"","/"),_(),ee(),I(v),I(L),I(C),Zt(S),ne(t,o,a,n,s,K,Z),oe(t,r,d,n,i),subMainContainerTransition("none"),ce(),B("report"),k.blogShowing)&&(d.style.display="none",hideBlog(u)):"ArrowRight"===t.key&&("report"===E.lastSelectedMode?(_(),hideDashboardCat(),x(v,y),x(L,y),x(C,y),B("home"),P(S),P(w),subMainContainerTransition("flex"),de()):"home"===E.lastSelectedMode&&(history.pushState({},"","/"),_(),hideDashboardCat(),I(v),I(L),I(C),Zt(w),ne(t,o,a,n,s,K,Z),oe(t,r,d,n,i),subMainContainerTransition("none"),ce(),B("space"),k.blogShowing)&&(d.style.display="none",hideBlog(u))),Kt(k))}function Kt(t){t.allowToggleSwitch=!1,setTimeout(()=>{t.allowToggleSwitch=!0},250)}function B(t){p.setAttribute("dinkle-doink-setting",t),E.lastSelectedMode=t}function subMainContainerTransition(t){"none"===t?(subMainContainer.style.opacity=0,subMainContainer.offsetHeight,p.style.overflowY="hidden",setTimeout(()=>{0==subMainContainer.style.opacity&&(subMainContainer.style.display=t)},150),T.pipWindowOpen&&(document.getElementById("pip-cat-shadow").style.opacity="0")):"flex"===t&&(subMainContainer.style.display=t,subMainContainer.offsetHeight,history.pushState({},"","/"),setTimeout(()=>{subMainContainer.style.opacity=1},0),T.pipWindowOpen)&&(document.getElementById("pip-cat-shadow").style.opacity="1")}function Zt(t){setTimeout(()=>{t.style.display="flex",t.offsetHeight,setTimeout(()=>{t.style.opacity=1},0)},100)}function P(t){t.classList.add("no-transition"),t.style.opacity=0,setTimeout(()=>{0==t.style.opacity&&(t.style.display="none"),p.style.overflowY="scroll",t.classList.remove("no-transition")},150)}function te(t,e,n,o,s,i,a,l,c,d,r){(t.includes(s.target)||e.some(t=>t.contains(s.target)))&&!o.includes(s.target)||(i.contains(s.target)?("report"!==l.lastSelectedMode&&_(),history.pushState({},"","/"),"report"!==l.lastSelectedMode&&ee(),I(v),I(L),I(C),Zt(S),P(w),subMainContainerTransition("none"),ce(),B("report")):a.contains(s.target)?("home"!==l.lastSelectedMode&&_(),hideDashboardCat(),x(v,y),x(L,y),x(C,y),B("home"),P(S),P(w),subMainContainerTransition("flex"),de()):c.contains(s.target)&&("space"!==l.lastSelectedMode&&_(),history.pushState({},"","/"),hideDashboardCat(),I(v),I(L),I(C),Zt(w),P(S),subMainContainerTransition("none"),ce(),B("space")),setTimeout(()=>{!n.includes(s.target)&&"home"!==l.lastSelectedMode||d.sessionSummaryPopupShowing||d.sessionSummarySignupPromptPopupShowing||Tt.contains(s.target)||d.settingsContainerShowing||L.contains(s.target)||(B("home"),subMainContainerTransition("flex"),P(S),P(w),history.pushState({},"","/"))},0),!d.blogShowing)||L.contains(s.target)||(r.style.display="none",hideBlog(u))}function ee(){if(T.muffinToggle&&(!T.sessionInProgress||T.inHyperFocus)&&!T.pipWindowOpen&&!y){let t=Math.floor(9*Math.random());for(;t===Pt.dashboardCatIdsArrIndex;)t=Math.floor(9*Math.random());Pt.dashboardCatIdsArrIndex=t;var e=_t[t];document.getElementById(e).style.display="flex"}}function hideDashboardCat(){var t=_t[Pt.dashboardCatIdsArrIndex];document.getElementById(t).style.display="none"}function ne(e,t,n,o,s,i,a){[t,n,o,m,h,b,f,g,L,c].some(t=>t.contains(e.target))&&e.target!==s||closeAboutContainer()}function closeAboutContainer(){k.aboutContainerShowing=!1,a.style.display="none",a.style.opacity="0"}function oe(e,t,n,o,s){[t,l,n,o,m,h,b,f,g,L,c].some(t=>t.contains(e.target))&&e.target!==s||closeBlogContainer()}function closeBlogContainer(){k.blogContainerShowing=!1,l.style.display="none",l.style.opacity="0"}function se(t,e,n,o){e.contains(t.target)||ue(n,o)}function ie(t,e,n,o){e.contains(t.target)||ye(n,o)}function ae(t,e,n,o){t.target===n&&le()}function le(){k.settingsContainerShowing=!1,c.style.display="none",c.style.opacity="0",p.style.overflowY="scroll",history.pushState({},"","/")}function ce(){Ut(mt),Ut(ht)}function de(){T.inHyperFocus?T.flowTimeAnimationToggle&&Ft(mt,"block"):!T.chillTimeAnimationToggle&&T.sessionInProgress||Ft(ht,"flex")}function re(t,e,n,o,s){window.location.hash=o[t],n.scrollTo(0,0),closeBlogContainer(),n.style.display="block",s.blogShowing=!0,document.getElementById(o[t]).classList.remove("hidden")}function hideBlog(t){t.forEach(function(t){document.getElementById(t.id).classList.contains("hidden")||document.getElementById(t.id).classList.add("hidden")}),pauseVideo(),k.blogShowing=!1}function ue(t,e){t.popupWindowShowing=!1,e.style.opacity="0",setTimeout(()=>{e.style.display="none"},50)}function pe(t,e){t.popupWindowShowing=!0,e.style.display="flex",setTimeout(()=>{e.classList.add("menuLanding"),e.style.opacity="1"},100)}function ye(t,e){t.popupQuestionWindowShowing=!1,e.style.opacity="0",setTimeout(()=>{e.style.display="none"},50)}function ge(t,e){t.popupQuestionWindowShowing=!0,e.style.display="flex",setTimeout(()=>{e.classList.add("questionMenuLanding"),e.style.opacity="1"},100)}function me(t,e){k.accountWindowShowing=!0,t.style.display="flex",e.style.display="block",p.style.overflowY="hidden"}function he(t,e){k.accountWindowShowing=!1,e.style.display="none",t.style.display="none",p.style.overflowY="scroll"}function fe(t,e){k.deleteAccountWindowShowing=!0,t.style.display="flex",e.style.display="block"}function we(t,e){k.deleteAccountWindowShowing=!1,e.style.display="none",t.style.display="none"}function be(t,e){k.shortcutsWindowShowing=!0,t.style.display="flex",e.style.display="block",p.style.overflowY="hidden"}function Se(t,e){k.shortcutsWindowShowing=!1,e.style.display="none",t.style.display="none",p.style.overflowY="scroll"}function ve(){k.sessionSummarySignupPromptPopupShowing=!1,kt.style.display="none",Et.classList.remove("hyperChillSlowRotate"),kt.style.opacity=0}window.addEventListener("popstate",t=>{var e=window.location.hash.substring(1);t.state&&t.state.window?"blog"===(t=t.state.window)?zt():"about"===t?Xt():"settings"===t&&qt():""===e&&(B("home"),subMainContainerTransition("flex"),P(S),P(w),closeAboutContainer(),closeBlogContainer(),le())}),document.addEventListener("DOMContentLoaded",()=>{var t=window.location.pathname.split("/").pop(),e=window.location.hash.substring(1);"blog"===t&&""===e?zt():"about"===t?Xt():"settings"===t&&history.pushState({},"","/"),e&&Vt(e)}),document.addEventListener("stateUpdated",function(){var t;t=navigator.userAgent||window.opera,/iPad/.test(t)||navigator.maxTouchPoints;y||(m.style.display="flex",v.style.display="flex",Tt.style.display="flex",L.style.display="flex",C.style.display="flex"),setTimeout(()=>{n.style.opacity="1",k.canToggleSwitch=!0,y||(m.style.opacity="1",v.style.opacity="1",Tt.style.opacity="1",L.style.opacity="1",C.style.opacity="1",setTimeout(()=>{v.style.transition="opacity 0.25s ease-in-out, background-color 0.25s ease",L.style.transition="opacity 0.25s ease-in-out, background-color 0.25s ease",C.style.transition="opacity 0.25s ease-in-out, background-color 0.25s ease"},1e3))},1e3),window.addEventListener("beforeunload",function(t){T.sessionInProgress&&(t.preventDefault(),t.returnValue="")}),n.addEventListener("click",function(){(k.popupWindowShowing?ue:pe)(k,e)}),m.addEventListener("click",function(){(k.popupQuestionWindowShowing?ye:ge)(k,h)}),r.addEventListener("click",function(){zt()}),o.addEventListener("click",function(){Xt()}),D.addEventListener("click",function(){qt(),Gt(Bt,Wt)}),Tt.addEventListener("click",function(){k.settingsContainerShowing?le():(qt(),Gt(Bt,Wt))}),ot.addEventListener("click",function(){var t=window.location.origin+"/privacy-policy";window.open(t,"_blank")}),st.addEventListener("click",function(){var t=window.location.origin+"/terms-and-conditions";window.open(t,"_blank")}),window.addEventListener("resize",function(){(window.innerWidth||document.documentElement.clientWidth)<=725&&(k.popupQuestionWindowShowing=!1,h.style.opacity="0",h.style.display="none")}),F.addEventListener("click",function(){!1===It.loggedIn?window.location.href="/login":fetch("/api/state/logout",{method:"POST"}).then(()=>{It.loggedIn=!1,window.location.href="/"}).catch(t=>{})}),it.addEventListener("click",function(){!1===It.loggedIn?window.location.href="/login":me(g,f)}),lt.addEventListener("click",function(){he(g,f)}),ut.addEventListener("click",function(){be(g,b)}),g.addEventListener("click",function(t){k.accountWindowShowing&&!f.contains(t.target)?lt.click():k.deleteAccountWindowShowing&&!at.contains(t.target)?ct.click():k.shortcutsWindowShowing&&!b.contains(t.target)?Se(g,b):M.confirmLabelDeletionWindowShowing&&!St.contains(t.target)?Lt.click():k.sessionSummarySignupPromptPopupShowing&&!kt.contains(t.target)&&t.target!==Ct&&(ve(),g.style.display="none","home"===E.lastSelectedMode)&&subMainContainerTransition("flex")}),pt.addEventListener("click",function(){Se(g,b)}),rt.addEventListener("click",async function(){fe(g,at)}),ct.addEventListener("click",function(){we(g,at)}),dt.addEventListener("click",async function(){It.loggedIn&&await Qt(),window.location.href="/"}),V.forEach(function(t){t.addEventListener("mouseover",function(){t.classList.remove("resetRotation"),t.classList.add("triggerRotation")}),t.addEventListener("mouseout",function(){t.classList.remove("triggerRotation"),t.classList.add("resetRotation")})}),N.forEach(function(t){t.addEventListener("mouseover",function(){t.classList.remove("resetBounce"),t.classList.add("triggerBounceLeft")}),t.addEventListener("mouseout",function(){t.classList.remove("TriggerBounceLeft"),t.classList.add("resetBounce")}),t.addEventListener("click",function(){k.blogShowing&&(d.style.display="none",hideBlog(u),history.replaceState(null,null,window.location.pathname)),l.style.display="flex",setTimeout(()=>{l.style.opacity="1"},0),k.blogShowing=!1})}),q.forEach(function(t){t.addEventListener("click",function(){re(t.id,l,d,Mt,k),U.classList.add("resetRotation"),G.classList.add("resetBounce")})}),document.addEventListener("click",function(t){se(t,n,k,e),ie(t,m,k,h),ne(t,o,a,n,s,K,Z),oe(t,r,d,n,i),ae(t,c,X,p),te([W,A,r,j,O,o,R,Y,D,H,Q,F,nt,g,J],[a,l,n,m,d,c,h,at,f,it,b,St,vt],[s,i,U],[s,i,U,X],t,K,et,E,tt,k,d)}),document.addEventListener("keydown",t=>Jt(t))});export{subMainContainerTransition,hideDashboardCat,closeAboutContainer,closeBlogContainer,hideBlog};